"use strict";
!(function (t) {
  console.log("# Abv home page script v.1.1.11 #");
  var o = t(
      "#bannerMiddlePage, .blocksContainer > div, #banner300x250, #ribbon"
    ),
    n = /localhost\:8080/g.test(location) ? "./data.json" : "/home/getdata",
    e = { time: Date.now(), blocks: {} },
    a = function () {
      return "blocks" in Data && Object.keys(Data.blocks).length;
    };
  t(function () {
    return (function (n) {
      t.getJSON(n)
        .then(function (n) {
          (window.Data = n || e),
            a() ? t.out() : o.hide(),
            t.log("test blocks: ", a());
        })
        .catch(function (t) {
          (window.Data = e), console.log("Get data error: ", t.statusText), a();
        });
    })(n);
  });
})(window.$ || {});
function ownKeys(t, e) {
  var i = Object.keys(t);
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(t);
    e &&
      (s = s.filter(function (e) {
        return Object.getOwnPropertyDescriptor(t, e).enumerable;
      })),
      i.push.apply(i, s);
  }
  return i;
}
function _objectSpread(t) {
  for (var e = 1; e < arguments.length; e++) {
    var i = null != arguments[e] ? arguments[e] : {};
    e % 2
      ? ownKeys(Object(i), !0).forEach(function (e) {
          _defineProperty(t, e, i[e]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i))
      : ownKeys(Object(i)).forEach(function (e) {
          Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e));
        });
  }
  return t;
}
function _defineProperty(t, e, i) {
  return (
    e in t
      ? Object.defineProperty(t, e, {
          value: i,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (t[e] = i),
    t
  );
}
function _slicedToArray(t, e) {
  return (
    _arrayWithHoles(t) ||
    _iterableToArrayLimit(t, e) ||
    _unsupportedIterableToArray(t, e) ||
    _nonIterableRest()
  );
}
function _nonIterableRest() {
  throw new TypeError(
    "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
  );
}
function _unsupportedIterableToArray(t, e) {
  if (t) {
    if ("string" == typeof t) return _arrayLikeToArray(t, e);
    var i = Object.prototype.toString.call(t).slice(8, -1);
    return (
      "Object" === i && t.constructor && (i = t.constructor.name),
      "Map" === i || "Set" === i
        ? Array.from(t)
        : "Arguments" === i ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)
        ? _arrayLikeToArray(t, e)
        : void 0
    );
  }
}
function _arrayLikeToArray(t, e) {
  (null == e || e > t.length) && (e = t.length);
  for (var i = 0, s = new Array(e); i < e; i++) s[i] = t[i];
  return s;
}
function _iterableToArrayLimit(t, e) {
  var i =
    null == t
      ? null
      : ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
  if (null != i) {
    var s,
      n,
      o = [],
      r = !0,
      a = !1;
    try {
      for (
        i = i.call(t);
        !(r = (s = i.next()).done) && (o.push(s.value), !e || o.length !== e);
        r = !0
      );
    } catch (t) {
      (a = !0), (n = t);
    } finally {
      try {
        r || null == i.return || i.return();
      } finally {
        if (a) throw n;
      }
    }
    return o;
  }
}
function _arrayWithHoles(t) {
  if (Array.isArray(t)) return t;
}
function _typeof(t) {
  return (
    (_typeof =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              "function" == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    _typeof(t)
  );
}
!(function (t, e, i) {
  var s,
    n,
    o =
      e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) ||
      [];
  /trident/i.test(o[1])
    ? (n = "IE " + ((s = /\brv[ :]+(\d+)/g.exec(e) || [])[1] || ""))
    : "Chrome" === o[1]
    ? (n =
        null != (s = e.match(/\b(OPR|Edge|Edg)\/(\d+)/))
          ? s.slice(1).join(" ").replace("OPR", "Opera").replace("Edg", "Edge")
          : [o[1], o[2]])
    : ((o = o[2] ? [o[1], o[2]] : [i.appName, i.appVersion, "-?"]),
      null != (s = e.match(/version\/(\d+)/i)) && (o = o.splice(1, 1, s[1])),
      (n = o)),
    (n = "string" == typeof n ? n.split(" ") : n),
    (t.browser = {
      name: n[0],
      version: n[1],
      msie: /msie|ie/i.test(n[0]),
      firefox: /firefox/i.test(n[0]),
      opera: /opera|OPR/i.test(n[0]),
      chrome: /chrome/i.test(n[0]),
      edge: /edge|edg/i.test(n[0]),
      mobile: !(
        !/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(
          e
        ) &&
        !/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(
          e.substr(0, 4)
        )
      ),
    });
})(window.$ || {}, navigator.userAgent, navigator),
  (function (t, e) {
    t.cookie = function (t, i, s) {
      if (void 0 === i) {
        var n = null;
        if (e.cookie && "" != e.cookie)
          for (var o = e.cookie.split(";"), r = 0; r < o.length; r++) {
            var a = jQuery.trim(o[r]);
            if (a.substring(0, t.length + 1) == t + "=") {
              n = decodeURIComponent(a.substring(t.length + 1));
              break;
            }
          }
        return n;
      }
      (s = s || {}), null === i && ((i = ""), (s.expires = -1));
      var h,
        c = "";
      s.expires &&
        ("number" == typeof s.expires || s.expires.toUTCString) &&
        ("number" == typeof s.expires
          ? (h = new Date()).setTime(
              h.getTime() + 24 * s.expires * 60 * 60 * 1e3
            )
          : (h = s.expires),
        (c = "; expires=" + h.toUTCString()));
      var l = s.path ? "; path=" + s.path : "",
        u = s.domain ? "; domain=" + s.domain : "",
        p = s.secure ? "; secure" : "";
      e.cookie = [t, "=", encodeURIComponent(i), c, l, u, p].join("");
    };
  })(window.$ || {}, document),
  (function (t) {
    (t.stack = []),
      (t.put = function (e) {
        (t.stack = t.stack.filter(function (t) {
          return t !== e;
        })),
          t.stack.push(e);
      }),
      (t.out = function () {
        return t.stack.map(function (t) {
          return t();
        });
      }),
      (t.checkType = function (t) {
        return Object.prototype.toString
          .call(t)
          .replace(/\[|object\s|\]/g, "")
          .toLowerCase();
      }),
      (t.empty =
        "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),
      (t.minify = function (t) {
        return t
          .replace(/\>[\r\n ]+\</g, "><")
          .replace(/(<.*?>)|\s+/g, function (t, e) {
            return e || " ";
          })
          .replace(/\s+\</g, "<")
          .replace(/\>+\s/g, ">")
          .trim();
      });
    (t.addCount = function (t) {
      return this.map(function (e) {
        return Object.assign(e, { counter: t++ });
      });
    }),
      (t.makeClick = function (t) {
        new Image().src = ""
          .concat("https://a.abv.bg/www/delivery/lg.php?zoneid=63&bannerid=")
          .concat(t, "&cb=")
          .concat(Date.now());
      }),
      (t.getTime = function () {
        return void 0 !== Data.time && "number" === t.checkType(Data.time)
          ? Data.time
          : Date.now();
      }),
      (t.cancelEvent = function (t) {
        t.preventDefault(), t.stopPropagation(), (t.cancelBubble = !0);
      }),
      (t.jsonCheck = function (t) {
        return !(0 === t.length || "undefined" === t || !t);
      }),
      (t.blockCheck = function (e, i) {
        var s =
          e in Data.blocks && Data.blocks[e] ? Data.blocks[e].articles : [];
        return !!t(i).length && !!t.jsonCheck(s);
      }),
      (t.log = function () {
        var t;
        return /abvnew|localhost/.test(location.origin)
          ? (t = console).log.apply(t, arguments)
          : null;
      });
  })(window.$ || {}),
  (function (t, e) {
    "function" != typeof t.CustomEvent &&
      ((t.CustomEvent = function (t, i) {
        i = i || { bubbles: !1, cancelable: !1, detail: void 0 };
        var s = e.createEvent("CustomEvent");
        return s.initCustomEvent(t, i.bubbles, i.cancelable, i.detail), s;
      }),
      (t.CustomEvent.prototype = window.Event.prototype)),
      e.addEventListener(
        "touchstart",
        function (t) {
          if ("true" === t.target.getAttribute("data-swipe-ignore")) return;
          (a = t.target),
            (r = Date.now()),
            (i = t.touches[0].clientX),
            (s = t.touches[0].clientY),
            (n = 0),
            (o = 0);
        },
        !1
      ),
      e.addEventListener(
        "touchmove",
        function (t) {
          if (!i || !s) return;
          var e = t.touches[0].clientX,
            r = t.touches[0].clientY;
          (n = i - e), (o = s - r);
        },
        !1
      ),
      e.addEventListener(
        "touchend",
        function (t) {
          if (a !== t.target) return;
          var e = parseInt(a.getAttribute("data-swipe-threshold") || "20", 10),
            h = parseInt(a.getAttribute("data-swipe-timeout") || "500", 10),
            c = Date.now() - r,
            l = "";
          Math.abs(n) > Math.abs(o)
            ? Math.abs(n) > e &&
              c < h &&
              (l = n > 0 ? "swipeleft" : "swiperight")
            : Math.abs(o) > e && c < h && (l = o > 0 ? "swipeup" : "swipedown");
          "" !== l &&
            a.dispatchEvent(
              new CustomEvent(l, { bubbles: !0, cancelable: !0 })
            );
          (i = null), (s = null), (r = null);
        },
        !1
      );
    var i = null,
      s = null,
      n = null,
      o = null,
      r = null,
      a = null;
  })(window, document),
  (function (t, e, i) {
    var s = t("body");
    (t.fn.createIfrBanner = function () {
      var e,
        i,
        s = arguments,
        n = function (e, i) {
          return (
            t.log(e, i),
            t.minify(
              '\n            <iframe\n                id="'
                .concat(
                  i,
                  '"\n                style="display: none;\n                width: 0;\n                height: 0;" \n                sandbox="allow-same-origin allow-scripts allow-popups allow-forms" \n                data-url="'
                )
                .concat(
                  e,
                  '" frameborder="0" scrolling="no"></iframe>\n        '
                )
            )
          );
        },
        o =
          2 === s.length && "string" == typeof s[0]
            ? t(n(s[0], s[1]))
            : s.length > 2 && "object" === _typeof(s[0])
            ? ((e = Array.from(s)),
              (i = ""),
              e.map(function (t) {
                return (i += n(t[0], t[1]));
              }),
              t.log(i),
              i)
            : null;
      return null !== o && t(this).append(o), this;
    }),
      (t.fn.isInViewport = function () {
        var s = t(this);
        if (0 !== s.length) {
          var n = s[0].getBoundingClientRect(),
            o = n.top,
            r = n.bottom,
            a = e.innerHeight || i.documentElement.clientHeight;
          return (o > 0 || r > 0) && o < a && s.is(":visible");
        }
      }),
      (t.fn.bannPosInit = function (e) {
        e = e || s;
        var i = t(this).not("[src]"),
          n = i.data();
        i.length &&
          n.url &&
          e.isInViewport() &&
          (i.attr("src", n.url), i.removeAttr("data-url"));
      }),
      (t.imageLazyLoader = function () {
        var e = t("iframe[data-src]");
        t('img[src^="data"]').each(function () {
          var e = t(this),
            i = e.data();
          e.isInViewport() && (e.attr("src", i.src), e.removeAttr("data-src"));
        }),
          e.each(function () {
            var e = t(this),
              i = e.data();
            e.isInViewport() &&
              (e.attr(
                "src",
                ""
                  .concat(i.src, "&dom=")
                  .concat(location.hostname, "&cb=")
                  .concat(Date.now())
              ),
              e.removeAttr("data-src"));
          }),
          t("#nonStandartPos, #nativeAdPos, #gongNativeAdPos").length ||
            s.createIfrBanner(
              ["https://bimg.abv.bg/a/r.html?p=11", "nativeAdPos"],
              ["https://bimg.abv.bg/a/r.html?p=112", "gongNativeAdPos"],
              ["https://bimg.abv.bg/a/r.html?p=12", "nonStandartPos"],
              ["https://bimg.abv.bg/a/r.html?p=122", "abvNonStandartBPos"]
            ),
          t("#nonStandartPos").bannPosInit(),
          t("#abvNonStandartBPos").bannPosInit(),
          t("#nativeAdPos").bannPosInit(
            t("#newsHolder, #sportHolder, #ednaHolder")
          ),
          t("#gongNativeAdPos").bannPosInit(t("#sportHolder"));
      }),
      t(e).on("load resize scroll slide", function () {
        return setTimeout(t.imageLazyLoader, 50);
      }),
      t.put(function () {
        t("img, iframe").on("load", t.imageLazyLoader);
      }),
      (t.fn.showPass = function () {
        t(this)
          .toArray()
          .map(function (e) {
            return (function (e) {
              var i = e.getBoundingClientRect(),
                s = t(e),
                n = 26;
              s.wrap("<label />");
              var o = s.parent().css({
                  position: "relative",
                  height: "".concat(i.height, "px"),
                  width: "100%",
                  display: "inline-block",
                }),
                r = "position: absolute; \n                    top: "
                  .concat(
                    (i.height - n) / 2,
                    "px; \n                    cursor: pointer; \n                    right: "
                  )
                  .concat(o.width() - i.width + 5, "px;\n                ")
                  .replace(/\s|\n/g, "");
              o.append(
                t(
                  '<img src="https://img.abv.bg/images/shown.svg?'
                    .concat(Date.now(), '"\n                    style="')
                    .concat(
                      r,
                      '"\n                    alt="Покажи паролата" \n                    width="'
                    )
                    .concat(n, '" \n                    height="')
                    .concat(n, '" alt="Покажи паролата" />')
                ).on("click", function (e) {
                  e.preventDefault();
                  var i = t(this);
                  /shown/.test(i.attr("src"))
                    ? (i.attr(
                        "src",
                        i.attr("src").replace(/shown/, "hidden").split("?")[0] +
                          "?" +
                          Date.now()
                      ),
                      s.attr("type", "text"))
                    : (i.attr(
                        "src",
                        i
                          .attr("src")
                          .replace(/hidden/, "shown")
                          .split("?")[0] +
                          "?" +
                          Date.now()
                      ),
                      s.attr("type", "password"));
                })
              );
            })(e);
          });
      }),
      t(function () {
        return t('input[type="password"]').showPass();
      });
  })(window.$ || {}, window, document),
  ((window.$ || {}).md5 = function (t) {
    var e,
      i,
      s,
      n,
      o,
      r,
      a,
      h,
      c,
      l = Array();
    for (
      t = (function (t) {
        t = t.replace(/\r\n/g, "\n");
        for (var e = "", i = 0; i < t.length; i++) {
          var s = t.charCodeAt(i);
          s < 128
            ? (e += String.fromCharCode(s))
            : s > 127 && s < 2048
            ? ((e += String.fromCharCode((s >> 6) | 192)),
              (e += String.fromCharCode((63 & s) | 128)))
            : ((e += String.fromCharCode((s >> 12) | 224)),
              (e += String.fromCharCode(((s >> 6) & 63) | 128)),
              (e += String.fromCharCode((63 & s) | 128)));
        }
        return e;
      })(t),
        l = (function (t) {
          for (
            var e,
              i = t.length,
              s = i + 8,
              n = 16 * ((s - (s % 64)) / 64 + 1),
              o = Array(n - 1),
              r = 0,
              a = 0;
            a < i;

          )
            (r = (a % 4) * 8),
              (o[(e = (a - (a % 4)) / 4)] = o[e] | (t.charCodeAt(a) << r)),
              a++;
          return (
            (r = (a % 4) * 8),
            (o[(e = (a - (a % 4)) / 4)] = o[e] | (128 << r)),
            (o[n - 2] = i << 3),
            (o[n - 1] = i >>> 29),
            o
          );
        })(t),
        r = 1732584193,
        a = 4023233417,
        h = 2562383102,
        c = 271733878,
        e = 0;
      e < l.length;
      e += 16
    )
      (i = r),
        (s = a),
        (n = h),
        (o = c),
        (r = f(r, a, h, c, l[e + 0], 7, 3614090360)),
        (c = f(c, r, a, h, l[e + 1], 12, 3905402710)),
        (h = f(h, c, r, a, l[e + 2], 17, 606105819)),
        (a = f(a, h, c, r, l[e + 3], 22, 3250441966)),
        (r = f(r, a, h, c, l[e + 4], 7, 4118548399)),
        (c = f(c, r, a, h, l[e + 5], 12, 1200080426)),
        (h = f(h, c, r, a, l[e + 6], 17, 2821735955)),
        (a = f(a, h, c, r, l[e + 7], 22, 4249261313)),
        (r = f(r, a, h, c, l[e + 8], 7, 1770035416)),
        (c = f(c, r, a, h, l[e + 9], 12, 2336552879)),
        (h = f(h, c, r, a, l[e + 10], 17, 4294925233)),
        (a = f(a, h, c, r, l[e + 11], 22, 2304563134)),
        (r = f(r, a, h, c, l[e + 12], 7, 1804603682)),
        (c = f(c, r, a, h, l[e + 13], 12, 4254626195)),
        (h = f(h, c, r, a, l[e + 14], 17, 2792965006)),
        (r = d(
          r,
          (a = f(a, h, c, r, l[e + 15], 22, 1236535329)),
          h,
          c,
          l[e + 1],
          5,
          4129170786
        )),
        (c = d(c, r, a, h, l[e + 6], 9, 3225465664)),
        (h = d(h, c, r, a, l[e + 11], 14, 643717713)),
        (a = d(a, h, c, r, l[e + 0], 20, 3921069994)),
        (r = d(r, a, h, c, l[e + 5], 5, 3593408605)),
        (c = d(c, r, a, h, l[e + 10], 9, 38016083)),
        (h = d(h, c, r, a, l[e + 15], 14, 3634488961)),
        (a = d(a, h, c, r, l[e + 4], 20, 3889429448)),
        (r = d(r, a, h, c, l[e + 9], 5, 568446438)),
        (c = d(c, r, a, h, l[e + 14], 9, 3275163606)),
        (h = d(h, c, r, a, l[e + 3], 14, 4107603335)),
        (a = d(a, h, c, r, l[e + 8], 20, 1163531501)),
        (r = d(r, a, h, c, l[e + 13], 5, 2850285829)),
        (c = d(c, r, a, h, l[e + 2], 9, 4243563512)),
        (h = d(h, c, r, a, l[e + 7], 14, 1735328473)),
        (r = m(
          r,
          (a = d(a, h, c, r, l[e + 12], 20, 2368359562)),
          h,
          c,
          l[e + 5],
          4,
          4294588738
        )),
        (c = m(c, r, a, h, l[e + 8], 11, 2272392833)),
        (h = m(h, c, r, a, l[e + 11], 16, 1839030562)),
        (a = m(a, h, c, r, l[e + 14], 23, 4259657740)),
        (r = m(r, a, h, c, l[e + 1], 4, 2763975236)),
        (c = m(c, r, a, h, l[e + 4], 11, 1272893353)),
        (h = m(h, c, r, a, l[e + 7], 16, 4139469664)),
        (a = m(a, h, c, r, l[e + 10], 23, 3200236656)),
        (r = m(r, a, h, c, l[e + 13], 4, 681279174)),
        (c = m(c, r, a, h, l[e + 0], 11, 3936430074)),
        (h = m(h, c, r, a, l[e + 3], 16, 3572445317)),
        (a = m(a, h, c, r, l[e + 6], 23, 76029189)),
        (r = m(r, a, h, c, l[e + 9], 4, 3654602809)),
        (c = m(c, r, a, h, l[e + 12], 11, 3873151461)),
        (h = m(h, c, r, a, l[e + 15], 16, 530742520)),
        (r = g(
          r,
          (a = m(a, h, c, r, l[e + 2], 23, 3299628645)),
          h,
          c,
          l[e + 0],
          6,
          4096336452
        )),
        (c = g(c, r, a, h, l[e + 7], 10, 1126891415)),
        (h = g(h, c, r, a, l[e + 14], 15, 2878612391)),
        (a = g(a, h, c, r, l[e + 5], 21, 4237533241)),
        (r = g(r, a, h, c, l[e + 12], 6, 1700485571)),
        (c = g(c, r, a, h, l[e + 3], 10, 2399980690)),
        (h = g(h, c, r, a, l[e + 10], 15, 4293915773)),
        (a = g(a, h, c, r, l[e + 1], 21, 2240044497)),
        (r = g(r, a, h, c, l[e + 8], 6, 1873313359)),
        (c = g(c, r, a, h, l[e + 15], 10, 4264355552)),
        (h = g(h, c, r, a, l[e + 6], 15, 2734768916)),
        (a = g(a, h, c, r, l[e + 13], 21, 1309151649)),
        (r = g(r, a, h, c, l[e + 4], 6, 4149444226)),
        (c = g(c, r, a, h, l[e + 11], 10, 3174756917)),
        (h = g(h, c, r, a, l[e + 2], 15, 718787259)),
        (a = g(a, h, c, r, l[e + 9], 21, 3951481745)),
        (r = p(r, i)),
        (a = p(a, s)),
        (h = p(h, n)),
        (c = p(c, o));
    return (v(r) + v(a) + v(h) + v(c)).toLowerCase();
    function u(t, e) {
      return (t << e) | (t >>> (32 - e));
    }
    function p(t, e) {
      var i, s, n, o, r;
      return (
        (n = 2147483648 & t),
        (o = 2147483648 & e),
        (r = (1073741823 & t) + (1073741823 & e)),
        (i = 1073741824 & t) & (s = 1073741824 & e)
          ? 2147483648 ^ r ^ n ^ o
          : i | s
          ? 1073741824 & r
            ? 3221225472 ^ r ^ n ^ o
            : 1073741824 ^ r ^ n ^ o
          : r ^ n ^ o
      );
    }
    function f(t, e, i, s, n, o, r) {
      return (
        (t = p(
          t,
          p(
            p(
              (function (t, e, i) {
                return (t & e) | (~t & i);
              })(e, i, s),
              n
            ),
            r
          )
        )),
        p(u(t, o), e)
      );
    }
    function d(t, e, i, s, n, o, r) {
      return (
        (t = p(
          t,
          p(
            p(
              (function (t, e, i) {
                return (t & i) | (e & ~i);
              })(e, i, s),
              n
            ),
            r
          )
        )),
        p(u(t, o), e)
      );
    }
    function m(t, e, i, s, n, o, r) {
      return (
        (t = p(
          t,
          p(
            p(
              (function (t, e, i) {
                return t ^ e ^ i;
              })(e, i, s),
              n
            ),
            r
          )
        )),
        p(u(t, o), e)
      );
    }
    function g(t, e, i, s, n, o, r) {
      return (
        (t = p(
          t,
          p(
            p(
              (function (t, e, i) {
                return e ^ (t | ~i);
              })(e, i, s),
              n
            ),
            r
          )
        )),
        p(u(t, o), e)
      );
    }
    function v(t) {
      var e,
        i = "",
        s = "";
      for (e = 0; e <= 3; e++)
        i += (s = "0" + ((t >>> (8 * e)) & 255).toString(16)).substr(
          s.length - 2,
          2
        );
      return i;
    }
  }),
  window.Element &&
    !Element.prototype.closest &&
    (Element.prototype.closest = function (t) {
      var e,
        i = (this.document || this.ownerDocument).querySelectorAll(t),
        s = this;
      do {
        for (e = i.length; --e >= 0 && i.item(e) !== s; );
      } while (e < 0 && (s = s.parentElement));
      return s;
    }),
  "function" != typeof Object.assign &&
    Object.defineProperty(Object, "assign", {
      value: function (t, e) {
        if (null == t)
          throw new TypeError("Cannot convert undefined or null to object");
        for (var i = Object(t), s = 1; s < arguments.length; s++) {
          var n = arguments[s];
          if (null != n)
            for (var o in n)
              Object.prototype.hasOwnProperty.call(n, o) && (i[o] = n[o]);
        }
        return i;
      },
      writable: !0,
      configurable: !0,
    }),
  "function" != typeof window.URL &&
    (window.URL = function (t) {
      var e = t.split("//")[0],
        i = t
          .split("#")[0]
          .replace(/^(https\:\/\/|http\:\/\/)|(\/)$/g, "")
          .split("/"),
        s = i[0],
        n = i[i.length - 1].split("?")[1],
        o = s.split(":"),
        r = o[1],
        a = o[0],
        h = (n = void 0 !== n ? "?" + n : "")
          .slice(1)
          .split("&")
          .map(function (t) {
            return t.split("=");
          })
          .reduce(function (t, e) {
            var i = _slicedToArray(e.map(decodeURIComponent), 2),
              s = i[0],
              n = i[1];
            return _objectSpread(
              _objectSpread({}, t),
              {},
              _defineProperty({}, s, n)
            );
          }, {});
      return {
        hash: t.indexOf("#") > -1 ? t.substring(t.indexOf("#")) : "",
        protocol: e,
        host: s,
        hostname: a,
        href: t,
        pathname:
          "/" +
          i
            .splice(1)
            .map(function (t) {
              return /\?/.test(t) ? t.split("?")[0] : t;
            })
            .join("/"),
        search: n,
        origin: e + "//" + s,
        port: void 0 !== r ? r : "",
        searchParams: {
          get: function (t) {
            return t in h ? h[t] : "";
          },
          getAll: function () {
            return h;
          },
        },
      };
    }),
  (function (t, e) {
    var i,
      s,
      n = 0,
      o = /^ui-id-\d+$/;
    function r(e, i) {
      var s,
        n,
        o,
        r = e.nodeName.toLowerCase();
      return "area" === r
        ? ((n = (s = e.parentNode).name),
          !(!e.href || !n || "map" !== s.nodeName.toLowerCase()) &&
            !!(o = t("img[usemap=#" + n + "]")[0]) &&
            a(o))
        : (/input|select|textarea|button|object/.test(r)
            ? !e.disabled
            : ("a" === r && e.href) || i) && a(e);
    }
    function a(e) {
      return (
        t.expr.filters.visible(e) &&
        !t(e)
          .parents()
          .addBack()
          .filter(function () {
            return "hidden" === t.css(this, "visibility");
          }).length
      );
    }
    (t.ui = t.ui || {}),
      t.extend(t.ui, {
        version: "1.10.3",
        keyCode: {
          BACKSPACE: 8,
          COMMA: 188,
          DELETE: 46,
          DOWN: 40,
          END: 35,
          ENTER: 13,
          ESCAPE: 27,
          HOME: 36,
          LEFT: 37,
          NUMPAD_ADD: 107,
          NUMPAD_DECIMAL: 110,
          NUMPAD_DIVIDE: 111,
          NUMPAD_ENTER: 108,
          NUMPAD_MULTIPLY: 106,
          NUMPAD_SUBTRACT: 109,
          PAGE_DOWN: 34,
          PAGE_UP: 33,
          PERIOD: 190,
          RIGHT: 39,
          SPACE: 32,
          TAB: 9,
          UP: 38,
        },
      }),
      t.fn.extend({
        focus:
          ((i = t.fn.focus),
          function (e, s) {
            return "number" == typeof e
              ? this.each(function () {
                  var i = this;
                  setTimeout(function () {
                    t(i).focus(), s && s.call(i);
                  }, e);
                })
              : i.apply(this, arguments);
          }),
        scrollParent: function () {
          var e;
          return (
            (e =
              (t.ui.ie && /(static|relative)/.test(this.css("position"))) ||
              /absolute/.test(this.css("position"))
                ? this.parents()
                    .filter(function () {
                      return (
                        /(relative|absolute|fixed)/.test(
                          t.css(this, "position")
                        ) &&
                        /(auto|scroll)/.test(
                          t.css(this, "overflow") +
                            t.css(this, "overflow-y") +
                            t.css(this, "overflow-x")
                        )
                      );
                    })
                    .eq(0)
                : this.parents()
                    .filter(function () {
                      return /(auto|scroll)/.test(
                        t.css(this, "overflow") +
                          t.css(this, "overflow-y") +
                          t.css(this, "overflow-x")
                      );
                    })
                    .eq(0)),
            /fixed/.test(this.css("position")) || !e.length ? t(document) : e
          );
        },
        zIndex: function (i) {
          if (i !== e) return this.css("zIndex", i);
          if (this.length)
            for (var s, n, o = t(this[0]); o.length && o[0] !== document; ) {
              if (
                ("absolute" === (s = o.css("position")) ||
                  "relative" === s ||
                  "fixed" === s) &&
                ((n = parseInt(o.css("zIndex"), 10)), !isNaN(n) && 0 !== n)
              )
                return n;
              o = o.parent();
            }
          return 0;
        },
        uniqueId: function () {
          return this.each(function () {
            this.id || (this.id = "ui-id-" + ++n);
          });
        },
        removeUniqueId: function () {
          return this.each(function () {
            o.test(this.id) && t(this).removeAttr("id");
          });
        },
      }),
      t.extend(t.expr[":"], {
        data: t.expr.createPseudo
          ? t.expr.createPseudo(function (e) {
              return function (i) {
                return !!t.data(i, e);
              };
            })
          : function (e, i, s) {
              return !!t.data(e, s[3]);
            },
        focusable: function (e) {
          return r(e, !isNaN(t.attr(e, "tabindex")));
        },
        tabbable: function (e) {
          var i = t.attr(e, "tabindex"),
            s = isNaN(i);
          return (s || i >= 0) && r(e, !s);
        },
      }),
      t("<a>").outerWidth(1).jquery ||
        t.each(["Width", "Height"], function (i, s) {
          var n = "Width" === s ? ["Left", "Right"] : ["Top", "Bottom"],
            o = s.toLowerCase(),
            r = {
              innerWidth: t.fn.innerWidth,
              innerHeight: t.fn.innerHeight,
              outerWidth: t.fn.outerWidth,
              outerHeight: t.fn.outerHeight,
            };
          function a(e, i, s, o) {
            return (
              t.each(n, function () {
                (i -= parseFloat(t.css(e, "padding" + this)) || 0),
                  s &&
                    (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0),
                  o && (i -= parseFloat(t.css(e, "margin" + this)) || 0);
              }),
              i
            );
          }
          (t.fn["inner" + s] = function (i) {
            return i === e
              ? r["inner" + s].call(this)
              : this.each(function () {
                  t(this).css(o, a(this, i) + "px");
                });
          }),
            (t.fn["outer" + s] = function (e, i) {
              return "number" != typeof e
                ? r["outer" + s].call(this, e)
                : this.each(function () {
                    t(this).css(o, a(this, e, !0, i) + "px");
                  });
            });
        }),
      t.fn.addBack ||
        (t.fn.addBack = function (t) {
          return this.add(
            null == t ? this.prevObject : this.prevObject.filter(t)
          );
        }),
      t("<a>").data("a-b", "a").removeData("a-b").data("a-b") &&
        (t.fn.removeData =
          ((s = t.fn.removeData),
          function (e) {
            return arguments.length
              ? s.call(this, t.camelCase(e))
              : s.call(this);
          })),
      (t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())),
      (t.support.selectstart =
        "onselectstart" in document.createElement("div")),
      t.fn.extend({
        disableSelection: function () {
          return this.bind(
            (t.support.selectstart ? "selectstart" : "mousedown") +
              ".ui-disableSelection",
            function (t) {
              t.preventDefault();
            }
          );
        },
        enableSelection: function () {
          return this.unbind(".ui-disableSelection");
        },
      }),
      t.extend(t.ui, {
        plugin: {
          add: function (e, i, s) {
            var n,
              o = t.ui[e].prototype;
            for (n in s)
              (o.plugins[n] = o.plugins[n] || []), o.plugins[n].push([i, s[n]]);
          },
          call: function (t, e, i) {
            var s,
              n = t.plugins[e];
            if (
              n &&
              t.element[0].parentNode &&
              11 !== t.element[0].parentNode.nodeType
            )
              for (s = 0; s < n.length; s++)
                t.options[n[s][0]] && n[s][1].apply(t.element, i);
          },
        },
        hasScroll: function (e, i) {
          if ("hidden" === t(e).css("overflow")) return !1;
          var s,
            n = i && "left" === i ? "scrollLeft" : "scrollTop";
          return e[n] > 0 || ((e[n] = 1), (s = e[n] > 0), (e[n] = 0), s);
        },
      });
  })(jQuery),
  (function (t, e) {
    var i = 0,
      s = Array.prototype.slice,
      n = t.cleanData;
    (t.cleanData = function (e) {
      for (var i, s = 0; null != (i = e[s]); s++)
        try {
          t(i).triggerHandler("remove");
        } catch (t) {}
      n(e);
    }),
      (t.widget = function (e, i, s) {
        var n,
          o,
          r,
          a,
          h = {},
          c = e.split(".")[0];
        (e = e.split(".")[1]),
          (n = c + "-" + e),
          s || ((s = i), (i = t.Widget)),
          (t.expr[":"][n.toLowerCase()] = function (e) {
            return !!t.data(e, n);
          }),
          (t[c] = t[c] || {}),
          (o = t[c][e]),
          (r = t[c][e] =
            function (t, e) {
              if (!this._createWidget) return new r(t, e);
              arguments.length && this._createWidget(t, e);
            }),
          t.extend(r, o, {
            version: s.version,
            _proto: t.extend({}, s),
            _childConstructors: [],
          }),
          ((a = new i()).options = t.widget.extend({}, a.options)),
          t.each(s, function (e, s) {
            var n, o;
            t.isFunction(s)
              ? (h[e] =
                  ((n = function () {
                    return i.prototype[e].apply(this, arguments);
                  }),
                  (o = function (t) {
                    return i.prototype[e].apply(this, t);
                  }),
                  function () {
                    var t,
                      e = this._super,
                      i = this._superApply;
                    return (
                      (this._super = n),
                      (this._superApply = o),
                      (t = s.apply(this, arguments)),
                      (this._super = e),
                      (this._superApply = i),
                      t
                    );
                  }))
              : (h[e] = s);
          }),
          (r.prototype = t.widget.extend(
            a,
            { widgetEventPrefix: o ? a.widgetEventPrefix : e },
            h,
            { constructor: r, namespace: c, widgetName: e, widgetFullName: n }
          )),
          o
            ? (t.each(o._childConstructors, function (e, i) {
                var s = i.prototype;
                t.widget(s.namespace + "." + s.widgetName, r, i._proto);
              }),
              delete o._childConstructors)
            : i._childConstructors.push(r),
          t.widget.bridge(e, r);
      }),
      (t.widget.extend = function (i) {
        for (
          var n, o, r = s.call(arguments, 1), a = 0, h = r.length;
          a < h;
          a++
        )
          for (n in r[a])
            (o = r[a][n]),
              r[a].hasOwnProperty(n) &&
                o !== e &&
                (t.isPlainObject(o)
                  ? (i[n] = t.isPlainObject(i[n])
                      ? t.widget.extend({}, i[n], o)
                      : t.widget.extend({}, o))
                  : (i[n] = o));
        return i;
      }),
      (t.widget.bridge = function (i, n) {
        var o = n.prototype.widgetFullName || i;
        t.fn[i] = function (r) {
          var a = "string" == typeof r,
            h = s.call(arguments, 1),
            c = this;
          return (
            (r =
              !a && h.length ? t.widget.extend.apply(null, [r].concat(h)) : r),
            a
              ? this.each(function () {
                  var s,
                    n = t.data(this, o);
                  return n
                    ? t.isFunction(n[r]) && "_" !== r.charAt(0)
                      ? (s = n[r].apply(n, h)) !== n && s !== e
                        ? ((c = s && s.jquery ? c.pushStack(s.get()) : s), !1)
                        : void 0
                      : t.error(
                          "no such method '" +
                            r +
                            "' for " +
                            i +
                            " widget instance"
                        )
                    : t.error(
                        "cannot call methods on " +
                          i +
                          " prior to initialization; attempted to call method '" +
                          r +
                          "'"
                      );
                })
              : this.each(function () {
                  var e = t.data(this, o);
                  e
                    ? e.option(r || {})._init()
                    : t.data(this, o, new n(r, this));
                }),
            c
          );
        };
      }),
      (t.Widget = function () {}),
      (t.Widget._childConstructors = []),
      (t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: { disabled: !1, create: null },
        _createWidget: function (e, s) {
          (s = t(s || this.defaultElement || this)[0]),
            (this.element = t(s)),
            (this.uuid = i++),
            (this.eventNamespace = "." + this.widgetName + this.uuid),
            (this.options = t.widget.extend(
              {},
              this.options,
              this._getCreateOptions(),
              e
            )),
            (this.bindings = t()),
            (this.hoverable = t()),
            (this.focusable = t()),
            s !== this &&
              (t.data(s, this.widgetFullName, this),
              this._on(!0, this.element, {
                remove: function (t) {
                  t.target === s && this.destroy();
                },
              }),
              (this.document = t(s.style ? s.ownerDocument : s.document || s)),
              (this.window = t(
                this.document[0].defaultView || this.document[0].parentWindow
              ))),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init();
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function () {
          this._destroy(),
            this.element
              .unbind(this.eventNamespace)
              .removeData(this.widgetName)
              .removeData(this.widgetFullName)
              .removeData(t.camelCase(this.widgetFullName)),
            this.widget()
              .unbind(this.eventNamespace)
              .removeAttr("aria-disabled")
              .removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus");
        },
        _destroy: t.noop,
        widget: function () {
          return this.element;
        },
        option: function (i, s) {
          var n,
            o,
            r,
            a = i;
          if (0 === arguments.length) return t.widget.extend({}, this.options);
          if ("string" == typeof i)
            if (((a = {}), (n = i.split(".")), (i = n.shift()), n.length)) {
              for (
                o = a[i] = t.widget.extend({}, this.options[i]), r = 0;
                r < n.length - 1;
                r++
              )
                (o[n[r]] = o[n[r]] || {}), (o = o[n[r]]);
              if (((i = n.pop()), s === e)) return o[i] === e ? null : o[i];
              o[i] = s;
            } else {
              if (s === e)
                return this.options[i] === e ? null : this.options[i];
              a[i] = s;
            }
          return this._setOptions(a), this;
        },
        _setOptions: function (t) {
          var e;
          for (e in t) this._setOption(e, t[e]);
          return this;
        },
        _setOption: function (t, e) {
          return (
            (this.options[t] = e),
            "disabled" === t &&
              (this.widget()
                .toggleClass(
                  this.widgetFullName + "-disabled ui-state-disabled",
                  !!e
                )
                .attr("aria-disabled", e),
              this.hoverable.removeClass("ui-state-hover"),
              this.focusable.removeClass("ui-state-focus")),
            this
          );
        },
        enable: function () {
          return this._setOption("disabled", !1);
        },
        disable: function () {
          return this._setOption("disabled", !0);
        },
        _on: function (e, i, s) {
          var n,
            o = this;
          "boolean" != typeof e && ((s = i), (i = e), (e = !1)),
            s
              ? ((i = n = t(i)), (this.bindings = this.bindings.add(i)))
              : ((s = i), (i = this.element), (n = this.widget())),
            t.each(s, function (s, r) {
              function a() {
                if (
                  e ||
                  (!0 !== o.options.disabled &&
                    !t(this).hasClass("ui-state-disabled"))
                )
                  return ("string" == typeof r ? o[r] : r).apply(o, arguments);
              }
              "string" != typeof r &&
                (a.guid = r.guid = r.guid || a.guid || t.guid++);
              var h = s.match(/^(\w+)\s*(.*)$/),
                c = h[1] + o.eventNamespace,
                l = h[2];
              l ? n.delegate(l, c, a) : i.bind(c, a);
            });
        },
        _off: function (t, e) {
          (e =
            (e || "").split(" ").join(this.eventNamespace + " ") +
            this.eventNamespace),
            t.unbind(e).undelegate(e);
        },
        _delay: function (t, e) {
          var i = this;
          return setTimeout(function () {
            return ("string" == typeof t ? i[t] : t).apply(i, arguments);
          }, e || 0);
        },
        _hoverable: function (e) {
          (this.hoverable = this.hoverable.add(e)),
            this._on(e, {
              mouseenter: function (e) {
                t(e.currentTarget).addClass("ui-state-hover");
              },
              mouseleave: function (e) {
                t(e.currentTarget).removeClass("ui-state-hover");
              },
            });
        },
        _focusable: function (e) {
          (this.focusable = this.focusable.add(e)),
            this._on(e, {
              focusin: function (e) {
                t(e.currentTarget).addClass("ui-state-focus");
              },
              focusout: function (e) {
                t(e.currentTarget).removeClass("ui-state-focus");
              },
            });
        },
        _trigger: function (e, i, s) {
          var n,
            o,
            r = this.options[e];
          if (
            ((s = s || {}),
            ((i = t.Event(i)).type = (
              e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e
            ).toLowerCase()),
            (i.target = this.element[0]),
            (o = i.originalEvent))
          )
            for (n in o) n in i || (i[n] = o[n]);
          return (
            this.element.trigger(i, s),
            !(
              (t.isFunction(r) &&
                !1 === r.apply(this.element[0], [i].concat(s))) ||
              i.isDefaultPrevented()
            )
          );
        },
      }),
      t.each({ show: "fadeIn", hide: "fadeOut" }, function (e, i) {
        t.Widget.prototype["_" + e] = function (s, n, o) {
          "string" == typeof n && (n = { effect: n });
          var r,
            a = n ? (!0 === n || "number" == typeof n ? i : n.effect || i) : e;
          "number" == typeof (n = n || {}) && (n = { duration: n }),
            (r = !t.isEmptyObject(n)),
            (n.complete = o),
            n.delay && s.delay(n.delay),
            r && t.effects && t.effects.effect[a]
              ? s[e](n)
              : a !== e && s[a]
              ? s[a](n.duration, n.easing, o)
              : s.queue(function (i) {
                  t(this)[e](), o && o.call(s[0]), i();
                });
        };
      });
  })(jQuery),
  (function (t, e) {
    var i = !1;
    t(document).mouseup(function () {
      i = !1;
    }),
      t.widget("ui.mouse", {
        version: "1.10.3",
        options: {
          cancel: "input,textarea,button,select,option",
          distance: 1,
          delay: 0,
        },
        _mouseInit: function () {
          var e = this;
          this.element
            .bind("mousedown." + this.widgetName, function (t) {
              return e._mouseDown(t);
            })
            .bind("click." + this.widgetName, function (i) {
              if (!0 === t.data(i.target, e.widgetName + ".preventClickEvent"))
                return (
                  t.removeData(i.target, e.widgetName + ".preventClickEvent"),
                  i.stopImmediatePropagation(),
                  !1
                );
            }),
            (this.started = !1);
        },
        _mouseDestroy: function () {
          this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate &&
              t(document)
                .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
        },
        _mouseDown: function (e) {
          if (!i) {
            this._mouseStarted && this._mouseUp(e), (this._mouseDownEvent = e);
            var s = this,
              n = 1 === e.which,
              o =
                !(
                  "string" != typeof this.options.cancel || !e.target.nodeName
                ) && t(e.target).closest(this.options.cancel).length;
            return (
              !(n && !o && this._mouseCapture(e)) ||
              ((this.mouseDelayMet = !this.options.delay),
              this.mouseDelayMet ||
                (this._mouseDelayTimer = setTimeout(function () {
                  s.mouseDelayMet = !0;
                }, this.options.delay)),
              this._mouseDistanceMet(e) &&
              this._mouseDelayMet(e) &&
              ((this._mouseStarted = !1 !== this._mouseStart(e)),
              !this._mouseStarted)
                ? (e.preventDefault(), !0)
                : (!0 ===
                    t.data(e.target, this.widgetName + ".preventClickEvent") &&
                    t.removeData(
                      e.target,
                      this.widgetName + ".preventClickEvent"
                    ),
                  (this._mouseMoveDelegate = function (t) {
                    return s._mouseMove(t);
                  }),
                  (this._mouseUpDelegate = function (t) {
                    return s._mouseUp(t);
                  }),
                  t(document)
                    .bind(
                      "mousemove." + this.widgetName,
                      this._mouseMoveDelegate
                    )
                    .bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                  e.preventDefault(),
                  (i = !0),
                  !0))
            );
          }
        },
        _mouseMove: function (e) {
          return t.ui.ie &&
            (!document.documentMode || document.documentMode < 9) &&
            !e.button
            ? this._mouseUp(e)
            : this._mouseStarted
            ? (this._mouseDrag(e), e.preventDefault())
            : (this._mouseDistanceMet(e) &&
                this._mouseDelayMet(e) &&
                ((this._mouseStarted =
                  !1 !== this._mouseStart(this._mouseDownEvent, e)),
                this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)),
              !this._mouseStarted);
        },
        _mouseUp: function (e) {
          return (
            t(document)
              .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
              .unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted &&
              ((this._mouseStarted = !1),
              e.target === this._mouseDownEvent.target &&
                t.data(e.target, this.widgetName + ".preventClickEvent", !0),
              this._mouseStop(e)),
            !1
          );
        },
        _mouseDistanceMet: function (t) {
          return (
            Math.max(
              Math.abs(this._mouseDownEvent.pageX - t.pageX),
              Math.abs(this._mouseDownEvent.pageY - t.pageY)
            ) >= this.options.distance
          );
        },
        _mouseDelayMet: function () {
          return this.mouseDelayMet;
        },
        _mouseStart: function () {},
        _mouseDrag: function () {},
        _mouseStop: function () {},
        _mouseCapture: function () {
          return !0;
        },
      });
  })(jQuery),
  (function (t, e) {
    function i(t, e, i) {
      return t > e && t < e + i;
    }
    function s(t) {
      return (
        /left|right/.test(t.css("float")) ||
        /inline|table-cell/.test(t.css("display"))
      );
    }
    t.widget("ui.sortable", t.ui.mouse, {
      version: "1.10.3",
      widgetEventPrefix: "sort",
      ready: !1,
      options: {
        appendTo: "parent",
        axis: !1,
        connectWith: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        dropOnEmpty: !0,
        forcePlaceholderSize: !1,
        forceHelperSize: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        items: "> *",
        opacity: !1,
        placeholder: !1,
        revert: !1,
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        scope: "default",
        tolerance: "intersect",
        zIndex: 1e3,
        activate: null,
        beforeStop: null,
        change: null,
        deactivate: null,
        out: null,
        over: null,
        receive: null,
        remove: null,
        sort: null,
        start: null,
        stop: null,
        update: null,
      },
      _create: function () {
        var t = this.options;
        (this.containerCache = {}),
          this.element.addClass("ui-sortable"),
          this.refresh(),
          (this.floating =
            !!this.items.length && ("x" === t.axis || s(this.items[0].item))),
          (this.offset = this.element.offset()),
          this._mouseInit(),
          (this.ready = !0);
      },
      _destroy: function () {
        this.element.removeClass("ui-sortable ui-sortable-disabled"),
          this._mouseDestroy();
        for (var t = this.items.length - 1; t >= 0; t--)
          this.items[t].item.removeData(this.widgetName + "-item");
        return this;
      },
      _setOption: function (e, i) {
        "disabled" === e
          ? ((this.options[e] = i),
            this.widget().toggleClass("ui-sortable-disabled", !!i))
          : t.Widget.prototype._setOption.apply(this, arguments);
      },
      _mouseCapture: function (e, i) {
        var s = null,
          n = !1,
          o = this;
        return (
          !this.reverting &&
          !this.options.disabled &&
          "static" !== this.options.type &&
          (this._refreshItems(e),
          t(e.target)
            .parents()
            .each(function () {
              if (t.data(this, o.widgetName + "-item") === o)
                return (s = t(this)), !1;
            }),
          t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)),
          !!s &&
            !(
              this.options.handle &&
              !i &&
              (t(this.options.handle, s)
                .find("*")
                .addBack()
                .each(function () {
                  this === e.target && (n = !0);
                }),
              !n)
            ) &&
            ((this.currentItem = s), this._removeCurrentsFromItems(), !0))
        );
      },
      _mouseStart: function (e, i, s) {
        var n,
          o,
          r = this.options;
        if (
          ((this.currentContainer = this),
          this.refreshPositions(),
          (this.helper = this._createHelper(e)),
          this._cacheHelperProportions(),
          this._cacheMargins(),
          (this.scrollParent = this.helper.scrollParent()),
          (this.offset = this.currentItem.offset()),
          (this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left,
          }),
          t.extend(this.offset, {
            click: {
              left: e.pageX - this.offset.left,
              top: e.pageY - this.offset.top,
            },
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset(),
          }),
          this.helper.css("position", "absolute"),
          (this.cssPosition = this.helper.css("position")),
          (this.originalPosition = this._generatePosition(e)),
          (this.originalPageX = e.pageX),
          (this.originalPageY = e.pageY),
          r.cursorAt && this._adjustOffsetFromHelper(r.cursorAt),
          (this.domPosition = {
            prev: this.currentItem.prev()[0],
            parent: this.currentItem.parent()[0],
          }),
          this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
          this._createPlaceholder(),
          r.containment && this._setContainment(),
          r.cursor &&
            "auto" !== r.cursor &&
            ((o = this.document.find("body")),
            (this.storedCursor = o.css("cursor")),
            o.css("cursor", r.cursor),
            (this.storedStylesheet = t(
              "<style>*{ cursor: " + r.cursor + " !important; }</style>"
            ).appendTo(o))),
          r.opacity &&
            (this.helper.css("opacity") &&
              (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", r.opacity)),
          r.zIndex &&
            (this.helper.css("zIndex") &&
              (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", r.zIndex)),
          this.scrollParent[0] !== document &&
            "HTML" !== this.scrollParent[0].tagName &&
            (this.overflowOffset = this.scrollParent.offset()),
          this._trigger("start", e, this._uiHash()),
          this._preserveHelperProportions || this._cacheHelperProportions(),
          !s)
        )
          for (n = this.containers.length - 1; n >= 0; n--)
            this.containers[n]._trigger("activate", e, this._uiHash(this));
        return (
          t.ui.ddmanager && (t.ui.ddmanager.current = this),
          t.ui.ddmanager &&
            !r.dropBehaviour &&
            t.ui.ddmanager.prepareOffsets(this, e),
          (this.dragging = !0),
          this.helper.addClass("ui-sortable-helper"),
          this._mouseDrag(e),
          !0
        );
      },
      _mouseDrag: function (e) {
        var i,
          s,
          n,
          o,
          r = this.options,
          a = !1;
        for (
          this.position = this._generatePosition(e),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
            this.options.scroll &&
              (this.scrollParent[0] !== document &&
              "HTML" !== this.scrollParent[0].tagName
                ? (this.overflowOffset.top +
                    this.scrollParent[0].offsetHeight -
                    e.pageY <
                  r.scrollSensitivity
                    ? (this.scrollParent[0].scrollTop = a =
                        this.scrollParent[0].scrollTop + r.scrollSpeed)
                    : e.pageY - this.overflowOffset.top < r.scrollSensitivity &&
                      (this.scrollParent[0].scrollTop = a =
                        this.scrollParent[0].scrollTop - r.scrollSpeed),
                  this.overflowOffset.left +
                    this.scrollParent[0].offsetWidth -
                    e.pageX <
                  r.scrollSensitivity
                    ? (this.scrollParent[0].scrollLeft = a =
                        this.scrollParent[0].scrollLeft + r.scrollSpeed)
                    : e.pageX - this.overflowOffset.left <
                        r.scrollSensitivity &&
                      (this.scrollParent[0].scrollLeft = a =
                        this.scrollParent[0].scrollLeft - r.scrollSpeed))
                : (e.pageY - t(document).scrollTop() < r.scrollSensitivity
                    ? (a = t(document).scrollTop(
                        t(document).scrollTop() - r.scrollSpeed
                      ))
                    : t(window).height() - (e.pageY - t(document).scrollTop()) <
                        r.scrollSensitivity &&
                      (a = t(document).scrollTop(
                        t(document).scrollTop() + r.scrollSpeed
                      )),
                  e.pageX - t(document).scrollLeft() < r.scrollSensitivity
                    ? (a = t(document).scrollLeft(
                        t(document).scrollLeft() - r.scrollSpeed
                      ))
                    : t(window).width() - (e.pageX - t(document).scrollLeft()) <
                        r.scrollSensitivity &&
                      (a = t(document).scrollLeft(
                        t(document).scrollLeft() + r.scrollSpeed
                      ))),
              !1 !== a &&
                t.ui.ddmanager &&
                !r.dropBehaviour &&
                t.ui.ddmanager.prepareOffsets(this, e)),
            this.positionAbs = this._convertPositionTo("absolute"),
            (this.options.axis && "y" === this.options.axis) ||
              (this.helper[0].style.left = this.position.left + "px"),
            (this.options.axis && "x" === this.options.axis) ||
              (this.helper[0].style.top = this.position.top + "px"),
            i = this.items.length - 1;
          i >= 0;
          i--
        )
          if (
            ((n = (s = this.items[i]).item[0]),
            (o = this._intersectsWithPointer(s)) &&
              s.instance === this.currentContainer &&
              !(
                n === this.currentItem[0] ||
                this.placeholder[1 === o ? "next" : "prev"]()[0] === n ||
                t.contains(this.placeholder[0], n) ||
                ("semi-dynamic" === this.options.type &&
                  t.contains(this.element[0], n))
              ))
          ) {
            if (
              ((this.direction = 1 === o ? "down" : "up"),
              "pointer" !== this.options.tolerance &&
                !this._intersectsWithSides(s))
            )
              break;
            this._rearrange(e, s), this._trigger("change", e, this._uiHash());
            break;
          }
        return (
          this._contactContainers(e),
          t.ui.ddmanager && t.ui.ddmanager.drag(this, e),
          this._trigger("sort", e, this._uiHash()),
          (this.lastPositionAbs = this.positionAbs),
          !1
        );
      },
      _mouseStop: function (e, i) {
        if (e) {
          if (
            (t.ui.ddmanager &&
              !this.options.dropBehaviour &&
              t.ui.ddmanager.drop(this, e),
            this.options.revert)
          ) {
            var s = this,
              n = this.placeholder.offset(),
              o = this.options.axis,
              r = {};
            (o && "x" !== o) ||
              (r.left =
                n.left -
                this.offset.parent.left -
                this.margins.left +
                (this.offsetParent[0] === document.body
                  ? 0
                  : this.offsetParent[0].scrollLeft)),
              (o && "y" !== o) ||
                (r.top =
                  n.top -
                  this.offset.parent.top -
                  this.margins.top +
                  (this.offsetParent[0] === document.body
                    ? 0
                    : this.offsetParent[0].scrollTop)),
              (this.reverting = !0),
              t(this.helper).animate(
                r,
                parseInt(this.options.revert, 10) || 500,
                function () {
                  s._clear(e);
                }
              );
          } else this._clear(e, i);
          return !1;
        }
      },
      cancel: function () {
        if (this.dragging) {
          this._mouseUp({ target: null }),
            "original" === this.options.helper
              ? this.currentItem
                  .css(this._storedCSS)
                  .removeClass("ui-sortable-helper")
              : this.currentItem.show();
          for (var e = this.containers.length - 1; e >= 0; e--)
            this.containers[e]._trigger("deactivate", null, this._uiHash(this)),
              this.containers[e].containerCache.over &&
                (this.containers[e]._trigger("out", null, this._uiHash(this)),
                (this.containers[e].containerCache.over = 0));
        }
        return (
          this.placeholder &&
            (this.placeholder[0].parentNode &&
              this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" !== this.options.helper &&
              this.helper &&
              this.helper[0].parentNode &&
              this.helper.remove(),
            t.extend(this, {
              helper: null,
              dragging: !1,
              reverting: !1,
              _noFinalSort: null,
            }),
            this.domPosition.prev
              ? t(this.domPosition.prev).after(this.currentItem)
              : t(this.domPosition.parent).prepend(this.currentItem)),
          this
        );
      },
      serialize: function (e) {
        var i = this._getItemsAsjQuery(e && e.connected),
          s = [];
        return (
          (e = e || {}),
          t(i).each(function () {
            var i = (t(e.item || this).attr(e.attribute || "id") || "").match(
              e.expression || /(.+)[\-=_](.+)/
            );
            i &&
              s.push(
                (e.key || i[1] + "[]") +
                  "=" +
                  (e.key && e.expression ? i[1] : i[2])
              );
          }),
          !s.length && e.key && s.push(e.key + "="),
          s.join("&")
        );
      },
      toArray: function (e) {
        var i = this._getItemsAsjQuery(e && e.connected),
          s = [];
        return (
          (e = e || {}),
          i.each(function () {
            s.push(t(e.item || this).attr(e.attribute || "id") || "");
          }),
          s
        );
      },
      _intersectsWith: function (t) {
        var e = this.positionAbs.left,
          i = e + this.helperProportions.width,
          s = this.positionAbs.top,
          n = s + this.helperProportions.height,
          o = t.left,
          r = o + t.width,
          a = t.top,
          h = a + t.height,
          c = this.offset.click.top,
          l = this.offset.click.left,
          u = "x" === this.options.axis || (s + c > a && s + c < h),
          p = "y" === this.options.axis || (e + l > o && e + l < r),
          f = u && p;
        return "pointer" === this.options.tolerance ||
          this.options.forcePointerForContainers ||
          ("pointer" !== this.options.tolerance &&
            this.helperProportions[this.floating ? "width" : "height"] >
              t[this.floating ? "width" : "height"])
          ? f
          : o < e + this.helperProportions.width / 2 &&
              i - this.helperProportions.width / 2 < r &&
              a < s + this.helperProportions.height / 2 &&
              n - this.helperProportions.height / 2 < h;
      },
      _intersectsWithPointer: function (t) {
        var e =
            "x" === this.options.axis ||
            i(this.positionAbs.top + this.offset.click.top, t.top, t.height),
          s =
            "y" === this.options.axis ||
            i(this.positionAbs.left + this.offset.click.left, t.left, t.width),
          n = e && s,
          o = this._getDragVerticalDirection(),
          r = this._getDragHorizontalDirection();
        return (
          !!n &&
          (this.floating
            ? (r && "right" === r) || "down" === o
              ? 2
              : 1
            : o && ("down" === o ? 2 : 1))
        );
      },
      _intersectsWithSides: function (t) {
        var e = i(
            this.positionAbs.top + this.offset.click.top,
            t.top + t.height / 2,
            t.height
          ),
          s = i(
            this.positionAbs.left + this.offset.click.left,
            t.left + t.width / 2,
            t.width
          ),
          n = this._getDragVerticalDirection(),
          o = this._getDragHorizontalDirection();
        return this.floating && o
          ? ("right" === o && s) || ("left" === o && !s)
          : n && (("down" === n && e) || ("up" === n && !e));
      },
      _getDragVerticalDirection: function () {
        var t = this.positionAbs.top - this.lastPositionAbs.top;
        return 0 !== t && (t > 0 ? "down" : "up");
      },
      _getDragHorizontalDirection: function () {
        var t = this.positionAbs.left - this.lastPositionAbs.left;
        return 0 !== t && (t > 0 ? "right" : "left");
      },
      refresh: function (t) {
        return this._refreshItems(t), this.refreshPositions(), this;
      },
      _connectWith: function () {
        var t = this.options;
        return t.connectWith.constructor === String
          ? [t.connectWith]
          : t.connectWith;
      },
      _getItemsAsjQuery: function (e) {
        var i,
          s,
          n,
          o,
          r = [],
          a = [],
          h = this._connectWith();
        if (h && e)
          for (i = h.length - 1; i >= 0; i--)
            for (s = (n = t(h[i])).length - 1; s >= 0; s--)
              (o = t.data(n[s], this.widgetFullName)) &&
                o !== this &&
                !o.options.disabled &&
                a.push([
                  t.isFunction(o.options.items)
                    ? o.options.items.call(o.element)
                    : t(o.options.items, o.element)
                        .not(".ui-sortable-helper")
                        .not(".ui-sortable-placeholder"),
                  o,
                ]);
        for (
          a.push([
            t.isFunction(this.options.items)
              ? this.options.items.call(this.element, null, {
                  options: this.options,
                  item: this.currentItem,
                })
              : t(this.options.items, this.element)
                  .not(".ui-sortable-helper")
                  .not(".ui-sortable-placeholder"),
            this,
          ]),
            i = a.length - 1;
          i >= 0;
          i--
        )
          a[i][0].each(function () {
            r.push(this);
          });
        return t(r);
      },
      _removeCurrentsFromItems: function () {
        var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
        this.items = t.grep(this.items, function (t) {
          for (var i = 0; i < e.length; i++) if (e[i] === t.item[0]) return !1;
          return !0;
        });
      },
      _refreshItems: function (e) {
        (this.items = []), (this.containers = [this]);
        var i,
          s,
          n,
          o,
          r,
          a,
          h,
          c,
          l = this.items,
          u = [
            [
              t.isFunction(this.options.items)
                ? this.options.items.call(this.element[0], e, {
                    item: this.currentItem,
                  })
                : t(this.options.items, this.element),
              this,
            ],
          ],
          p = this._connectWith();
        if (p && this.ready)
          for (i = p.length - 1; i >= 0; i--)
            for (s = (n = t(p[i])).length - 1; s >= 0; s--)
              (o = t.data(n[s], this.widgetFullName)) &&
                o !== this &&
                !o.options.disabled &&
                (u.push([
                  t.isFunction(o.options.items)
                    ? o.options.items.call(o.element[0], e, {
                        item: this.currentItem,
                      })
                    : t(o.options.items, o.element),
                  o,
                ]),
                this.containers.push(o));
        for (i = u.length - 1; i >= 0; i--)
          for (r = u[i][1], s = 0, c = (a = u[i][0]).length; s < c; s++)
            (h = t(a[s])).data(this.widgetName + "-item", r),
              l.push({
                item: h,
                instance: r,
                width: 0,
                height: 0,
                left: 0,
                top: 0,
              });
      },
      refreshPositions: function (e) {
        var i, s, n, o;
        for (
          this.offsetParent &&
            this.helper &&
            (this.offset.parent = this._getParentOffset()),
            i = this.items.length - 1;
          i >= 0;
          i--
        )
          ((s = this.items[i]).instance !== this.currentContainer &&
            this.currentContainer &&
            s.item[0] !== this.currentItem[0]) ||
            ((n = this.options.toleranceElement
              ? t(this.options.toleranceElement, s.item)
              : s.item),
            e || ((s.width = n.outerWidth()), (s.height = n.outerHeight())),
            (o = n.offset()),
            (s.left = o.left),
            (s.top = o.top));
        if (this.options.custom && this.options.custom.refreshContainers)
          this.options.custom.refreshContainers.call(this);
        else
          for (i = this.containers.length - 1; i >= 0; i--)
            (o = this.containers[i].element.offset()),
              (this.containers[i].containerCache.left = o.left),
              (this.containers[i].containerCache.top = o.top),
              (this.containers[i].containerCache.width =
                this.containers[i].element.outerWidth()),
              (this.containers[i].containerCache.height =
                this.containers[i].element.outerHeight());
        return this;
      },
      _createPlaceholder: function (e) {
        var i,
          s = (e = e || this).options;
        (s.placeholder && s.placeholder.constructor !== String) ||
          ((i = s.placeholder),
          (s.placeholder = {
            element: function () {
              var s = e.currentItem[0].nodeName.toLowerCase(),
                n = t("<" + s + ">", e.document[0])
                  .addClass(
                    i || e.currentItem[0].className + " ui-sortable-placeholder"
                  )
                  .removeClass("ui-sortable-helper");
              return (
                "tr" === s
                  ? e.currentItem.children().each(function () {
                      t("<td>&#160;</td>", e.document[0])
                        .attr("colspan", t(this).attr("colspan") || 1)
                        .appendTo(n);
                    })
                  : "img" === s && n.attr("src", e.currentItem.attr("src")),
                i || n.css("visibility", "hidden"),
                n
              );
            },
            update: function (t, n) {
              (i && !s.forcePlaceholderSize) ||
                (n.height() ||
                  n.height(
                    e.currentItem.innerHeight() -
                      parseInt(e.currentItem.css("paddingTop") || 0, 10) -
                      parseInt(e.currentItem.css("paddingBottom") || 0, 10)
                  ),
                n.width() ||
                  n.width(
                    e.currentItem.innerWidth() -
                      parseInt(e.currentItem.css("paddingLeft") || 0, 10) -
                      parseInt(e.currentItem.css("paddingRight") || 0, 10)
                  ));
            },
          })),
          (e.placeholder = t(
            s.placeholder.element.call(e.element, e.currentItem)
          )),
          e.currentItem.after(e.placeholder),
          s.placeholder.update(e, e.placeholder);
      },
      _contactContainers: function (e) {
        var n,
          o,
          r,
          a,
          h,
          c,
          l,
          u,
          p,
          f,
          d = null,
          m = null;
        for (n = this.containers.length - 1; n >= 0; n--)
          if (!t.contains(this.currentItem[0], this.containers[n].element[0]))
            if (this._intersectsWith(this.containers[n].containerCache)) {
              if (d && t.contains(this.containers[n].element[0], d.element[0]))
                continue;
              (d = this.containers[n]), (m = n);
            } else
              this.containers[n].containerCache.over &&
                (this.containers[n]._trigger("out", e, this._uiHash(this)),
                (this.containers[n].containerCache.over = 0));
        if (d)
          if (1 === this.containers.length)
            this.containers[m].containerCache.over ||
              (this.containers[m]._trigger("over", e, this._uiHash(this)),
              (this.containers[m].containerCache.over = 1));
          else {
            for (
              r = 1e4,
                a = null,
                h = (f = d.floating || s(this.currentItem)) ? "left" : "top",
                c = f ? "width" : "height",
                l = this.positionAbs[h] + this.offset.click[h],
                o = this.items.length - 1;
              o >= 0;
              o--
            )
              t.contains(
                this.containers[m].element[0],
                this.items[o].item[0]
              ) &&
                this.items[o].item[0] !== this.currentItem[0] &&
                ((f &&
                  !i(
                    this.positionAbs.top + this.offset.click.top,
                    this.items[o].top,
                    this.items[o].height
                  )) ||
                  ((u = this.items[o].item.offset()[h]),
                  (p = !1),
                  Math.abs(u - l) > Math.abs(u + this.items[o][c] - l) &&
                    ((p = !0), (u += this.items[o][c])),
                  Math.abs(u - l) < r &&
                    ((r = Math.abs(u - l)),
                    (a = this.items[o]),
                    (this.direction = p ? "up" : "down"))));
            if (!a && !this.options.dropOnEmpty) return;
            if (this.currentContainer === this.containers[m]) return;
            a
              ? this._rearrange(e, a, null, !0)
              : this._rearrange(e, null, this.containers[m].element, !0),
              this._trigger("change", e, this._uiHash()),
              this.containers[m]._trigger("change", e, this._uiHash(this)),
              (this.currentContainer = this.containers[m]),
              this.options.placeholder.update(
                this.currentContainer,
                this.placeholder
              ),
              this.containers[m]._trigger("over", e, this._uiHash(this)),
              (this.containers[m].containerCache.over = 1);
          }
      },
      _createHelper: function (e) {
        var i = this.options,
          s = t.isFunction(i.helper)
            ? t(i.helper.apply(this.element[0], [e, this.currentItem]))
            : "clone" === i.helper
            ? this.currentItem.clone()
            : this.currentItem;
        return (
          s.parents("body").length ||
            t(
              "parent" !== i.appendTo
                ? i.appendTo
                : this.currentItem[0].parentNode
            )[0].appendChild(s[0]),
          s[0] === this.currentItem[0] &&
            (this._storedCSS = {
              width: this.currentItem[0].style.width,
              height: this.currentItem[0].style.height,
              position: this.currentItem.css("position"),
              top: this.currentItem.css("top"),
              left: this.currentItem.css("left"),
            }),
          (s[0].style.width && !i.forceHelperSize) ||
            s.width(this.currentItem.width()),
          (s[0].style.height && !i.forceHelperSize) ||
            s.height(this.currentItem.height()),
          s
        );
      },
      _adjustOffsetFromHelper: function (e) {
        "string" == typeof e && (e = e.split(" ")),
          t.isArray(e) && (e = { left: +e[0], top: +e[1] || 0 }),
          "left" in e && (this.offset.click.left = e.left + this.margins.left),
          "right" in e &&
            (this.offset.click.left =
              this.helperProportions.width - e.right + this.margins.left),
          "top" in e && (this.offset.click.top = e.top + this.margins.top),
          "bottom" in e &&
            (this.offset.click.top =
              this.helperProportions.height - e.bottom + this.margins.top);
      },
      _getParentOffset: function () {
        this.offsetParent = this.helper.offsetParent();
        var e = this.offsetParent.offset();
        return (
          "absolute" === this.cssPosition &&
            this.scrollParent[0] !== document &&
            t.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((e.left += this.scrollParent.scrollLeft()),
            (e.top += this.scrollParent.scrollTop())),
          (this.offsetParent[0] === document.body ||
            (this.offsetParent[0].tagName &&
              "html" === this.offsetParent[0].tagName.toLowerCase() &&
              t.ui.ie)) &&
            (e = { top: 0, left: 0 }),
          {
            top:
              e.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              e.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
          }
        );
      },
      _getRelativeOffset: function () {
        if ("relative" === this.cssPosition) {
          var t = this.currentItem.position();
          return {
            top:
              t.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              this.scrollParent.scrollTop(),
            left:
              t.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              this.scrollParent.scrollLeft(),
          };
        }
        return { top: 0, left: 0 };
      },
      _cacheMargins: function () {
        this.margins = {
          left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
          top: parseInt(this.currentItem.css("marginTop"), 10) || 0,
        };
      },
      _cacheHelperProportions: function () {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight(),
        };
      },
      _setContainment: function () {
        var e,
          i,
          s,
          n = this.options;
        "parent" === n.containment &&
          (n.containment = this.helper[0].parentNode),
          ("document" !== n.containment && "window" !== n.containment) ||
            (this.containment = [
              0 - this.offset.relative.left - this.offset.parent.left,
              0 - this.offset.relative.top - this.offset.parent.top,
              t("document" === n.containment ? document : window).width() -
                this.helperProportions.width -
                this.margins.left,
              (t("document" === n.containment ? document : window).height() ||
                document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top,
            ]),
          /^(document|window|parent)$/.test(n.containment) ||
            ((e = t(n.containment)[0]),
            (i = t(n.containment).offset()),
            (s = "hidden" !== t(e).css("overflow")),
            (this.containment = [
              i.left +
                (parseInt(t(e).css("borderLeftWidth"), 10) || 0) +
                (parseInt(t(e).css("paddingLeft"), 10) || 0) -
                this.margins.left,
              i.top +
                (parseInt(t(e).css("borderTopWidth"), 10) || 0) +
                (parseInt(t(e).css("paddingTop"), 10) || 0) -
                this.margins.top,
              i.left +
                (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) -
                (parseInt(t(e).css("borderLeftWidth"), 10) || 0) -
                (parseInt(t(e).css("paddingRight"), 10) || 0) -
                this.helperProportions.width -
                this.margins.left,
              i.top +
                (s
                  ? Math.max(e.scrollHeight, e.offsetHeight)
                  : e.offsetHeight) -
                (parseInt(t(e).css("borderTopWidth"), 10) || 0) -
                (parseInt(t(e).css("paddingBottom"), 10) || 0) -
                this.helperProportions.height -
                this.margins.top,
            ]));
      },
      _convertPositionTo: function (e, i) {
        i || (i = this.position);
        var s = "absolute" === e ? 1 : -1,
          n =
            "absolute" !== this.cssPosition ||
            (this.scrollParent[0] !== document &&
              t.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent,
          o = /(html|body)/i.test(n[0].tagName);
        return {
          top:
            i.top +
            this.offset.relative.top * s +
            this.offset.parent.top * s -
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollTop()
              : o
              ? 0
              : n.scrollTop()) *
              s,
          left:
            i.left +
            this.offset.relative.left * s +
            this.offset.parent.left * s -
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : o
              ? 0
              : n.scrollLeft()) *
              s,
        };
      },
      _generatePosition: function (e) {
        var i,
          s,
          n = this.options,
          o = e.pageX,
          r = e.pageY,
          a =
            "absolute" !== this.cssPosition ||
            (this.scrollParent[0] !== document &&
              t.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent,
          h = /(html|body)/i.test(a[0].tagName);
        return (
          "relative" !== this.cssPosition ||
            (this.scrollParent[0] !== document &&
              this.scrollParent[0] !== this.offsetParent[0]) ||
            (this.offset.relative = this._getRelativeOffset()),
          this.originalPosition &&
            (this.containment &&
              (e.pageX - this.offset.click.left < this.containment[0] &&
                (o = this.containment[0] + this.offset.click.left),
              e.pageY - this.offset.click.top < this.containment[1] &&
                (r = this.containment[1] + this.offset.click.top),
              e.pageX - this.offset.click.left > this.containment[2] &&
                (o = this.containment[2] + this.offset.click.left),
              e.pageY - this.offset.click.top > this.containment[3] &&
                (r = this.containment[3] + this.offset.click.top)),
            n.grid &&
              ((i =
                this.originalPageY +
                Math.round((r - this.originalPageY) / n.grid[1]) * n.grid[1]),
              (r = this.containment
                ? i - this.offset.click.top >= this.containment[1] &&
                  i - this.offset.click.top <= this.containment[3]
                  ? i
                  : i - this.offset.click.top >= this.containment[1]
                  ? i - n.grid[1]
                  : i + n.grid[1]
                : i),
              (s =
                this.originalPageX +
                Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0]),
              (o = this.containment
                ? s - this.offset.click.left >= this.containment[0] &&
                  s - this.offset.click.left <= this.containment[2]
                  ? s
                  : s - this.offset.click.left >= this.containment[0]
                  ? s - n.grid[0]
                  : s + n.grid[0]
                : s))),
          {
            top:
              r -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollTop()
                : h
                ? 0
                : a.scrollTop()),
            left:
              o -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollLeft()
                : h
                ? 0
                : a.scrollLeft()),
          }
        );
      },
      _rearrange: function (t, e, i, s) {
        i
          ? i[0].appendChild(this.placeholder[0])
          : e.item[0].parentNode.insertBefore(
              this.placeholder[0],
              "down" === this.direction ? e.item[0] : e.item[0].nextSibling
            ),
          (this.counter = this.counter ? ++this.counter : 1);
        var n = this.counter;
        this._delay(function () {
          n === this.counter && this.refreshPositions(!s);
        });
      },
      _clear: function (t, e) {
        this.reverting = !1;
        var i,
          s = [];
        if (
          (!this._noFinalSort &&
            this.currentItem.parent().length &&
            this.placeholder.before(this.currentItem),
          (this._noFinalSort = null),
          this.helper[0] === this.currentItem[0])
        ) {
          for (i in this._storedCSS)
            ("auto" !== this._storedCSS[i] &&
              "static" !== this._storedCSS[i]) ||
              (this._storedCSS[i] = "");
          this.currentItem
            .css(this._storedCSS)
            .removeClass("ui-sortable-helper");
        } else this.currentItem.show();
        for (
          this.fromOutside &&
            !e &&
            s.push(function (t) {
              this._trigger("receive", t, this._uiHash(this.fromOutside));
            }),
            (!this.fromOutside &&
              this.domPosition.prev ===
                this.currentItem.prev().not(".ui-sortable-helper")[0] &&
              this.domPosition.parent === this.currentItem.parent()[0]) ||
              e ||
              s.push(function (t) {
                this._trigger("update", t, this._uiHash());
              }),
            this !== this.currentContainer &&
              (e ||
                (s.push(function (t) {
                  this._trigger("remove", t, this._uiHash());
                }),
                s.push(
                  function (t) {
                    return function (e) {
                      t._trigger("receive", e, this._uiHash(this));
                    };
                  }.call(this, this.currentContainer)
                ),
                s.push(
                  function (t) {
                    return function (e) {
                      t._trigger("update", e, this._uiHash(this));
                    };
                  }.call(this, this.currentContainer)
                ))),
            i = this.containers.length - 1;
          i >= 0;
          i--
        )
          e ||
            s.push(
              function (t) {
                return function (e) {
                  t._trigger("deactivate", e, this._uiHash(this));
                };
              }.call(this, this.containers[i])
            ),
            this.containers[i].containerCache.over &&
              (s.push(
                function (t) {
                  return function (e) {
                    t._trigger("out", e, this._uiHash(this));
                  };
                }.call(this, this.containers[i])
              ),
              (this.containers[i].containerCache.over = 0));
        if (
          (this.storedCursor &&
            (this.document.find("body").css("cursor", this.storedCursor),
            this.storedStylesheet.remove()),
          this._storedOpacity &&
            this.helper.css("opacity", this._storedOpacity),
          this._storedZIndex &&
            this.helper.css(
              "zIndex",
              "auto" === this._storedZIndex ? "" : this._storedZIndex
            ),
          (this.dragging = !1),
          this.cancelHelperRemoval)
        ) {
          if (!e) {
            for (
              this._trigger("beforeStop", t, this._uiHash()), i = 0;
              i < s.length;
              i++
            )
              s[i].call(this, t);
            this._trigger("stop", t, this._uiHash());
          }
          return (this.fromOutside = !1), !1;
        }
        if (
          (e || this._trigger("beforeStop", t, this._uiHash()),
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          this.helper[0] !== this.currentItem[0] && this.helper.remove(),
          (this.helper = null),
          !e)
        ) {
          for (i = 0; i < s.length; i++) s[i].call(this, t);
          this._trigger("stop", t, this._uiHash());
        }
        return (this.fromOutside = !1), !0;
      },
      _trigger: function () {
        !1 === t.Widget.prototype._trigger.apply(this, arguments) &&
          this.cancel();
      },
      _uiHash: function (e) {
        var i = e || this;
        return {
          helper: i.helper,
          placeholder: i.placeholder || t([]),
          position: i.position,
          originalPosition: i.originalPosition,
          offset: i.positionAbs,
          item: i.currentItem,
          sender: e ? e.element : null,
        };
      },
    });
  })(jQuery);
$.put(function () {
  if ($.blockCheck("horoscope", "#astroContent")) {
    var t = Data.blocks.horoscope.articles,
      e = new Date($.getTime()),
      n = e.getTime(),
      a = $("#astroContent"),
      c = a.find("li"),
      r = a.find("h3"),
      o = r.find(".name"),
      i = r.find("time"),
      l = r.find("a"),
      s = a.find("div.x");
    (t = $.addCount.call(t, 1)),
      c.on("click", function (e) {
        $.cancelEvent(e);
        var n = $(this),
          a = t.filter(function (t) {
            return t.title === n.text();
          })[0];
        c.removeClass("selected"),
          n.addClass("selected"),
          o.text(n.text()),
          i.text("(".concat(a.date, ")")),
          l.attr("href", a.url),
          f(a),
          $.imageLazyLoader(),
          localStorage.setItem("sign", n.index()),
          (function () {
            if ($(".signAuto").length) return;
            var t =
              '<a href="javascript://" class="fr signAuto">автоматично</a>';
            $("#block-Astro header").append(t), $(".signAuto").on("click", g);
          })();
      });
    var d = localStorage.getItem("sign"),
      u = t.filter(function (t) {
        return (function (t) {
          var a = { start: c((t = t.split("-"))[0]), end: c(t[1]) };
          return (
            $.log(
              n,
              a,
              r(a, "start") <= n,
              n <= r(a, "end"),
              r(a, "start") <= n && n <= r(a, "end")
            ),
            r(a, "start") <= n && n <= r(a, "end")
          );
          function c(t) {
            return t.split(".").reduce(function (t, e) {
              return { day: t, month: e };
            });
          }
          function r(t, n) {
            var a = {
                "01": "Jan",
                "02": "Feb",
                "03": "Mar",
                "04": "Apr",
                "05": "May",
                "06": "Jun",
                "07": "Jul",
                "08": "Aug",
                "09": "Sep",
                10: "Oct",
                11: "Nov",
                12: "Dec",
              }[t[n].month],
              c = ""
                .concat(a, " \n                        ")
                .concat(t[n].day, ", \n                        ")
                .concat(
                  "Jan" === a && "end" === n
                    ? e.getUTCFullYear() + 1
                    : e.getUTCFullYear(),
                  " \n                        "
                )
                .concat("end" === n ? "23:59:59" : "0:00:00");
            return new Date(c).getTime();
          }
        })(t.date);
      })[0];
    try {
      f(d ? t[d] : u || t[0]);
    } catch (t) {
      $.log(t);
    }
  }
  function g() {
    $(".signAuto").remove(),
      "sign" in localStorage && localStorage.removeItem("sign"),
      f(u || t[0]),
      $.imageLazyLoader();
  }
  function f(t) {
    o.text(t.title),
      i.text("(".concat(t.date, ")")),
      l.attr("href", t.url),
      c.removeClass("selected"),
      c.each(function () {
        var e = $(this);
        e.text() === t.title && e.addClass("selected");
      }),
      s.find("a, p").remove(),
      s.append(
        $.minify(
          '\n            <a href="'
            .concat(
              t.url.replace(/mesechen/, "dneven"),
              '" target="_blank">\n                <img src="'
            )
            .concat($.empty, '" data-src="https://img.abv.bg/homepage/astro/')
            .concat(t.counter, '.png" alt="')
            .concat(
              t.title,
              '" />\n            </a>\n            <p>\n                '
            )
            .concat(t.text, "\n            </p>\n        ")
        )
      );
  }
});
!(function (n) {
  console.log("# Abv home page banners library v.1.9.1 #");
  var e = [
      "https://bimg.abv.bg",
      "https://m.netinfo.bg",
      "https://m4.netinfo.bg",
      "https://img.abv.bg",
    ],
    a = [
      "https://www.abv.bg",
      "https://abv.bg",
      "https://img.abv.bg",
      "https://tpc.googlesyndication.com",
      "https://abvnew.ni.bg",
      "https://abvnew.abv.bg",
      "https://localhost:8080",
    ];
  (Array.prototype.checkDomains = function () {
    var n = this,
      e = Array.prototype.slice.call(arguments),
      a = 1;
    return (
      e.forEach(function (e) {
        a &=
          n.filter(function (n) {
            return n === new URL(e).origin;
          }).length > 0;
      }),
      !!a
    );
  }),
    n.addEventListener(
      "message",
      function (t) {
        if (!t.origin && !a.checkDomains(t.origin)) return;
        var i = $.checkType(t.data),
          o =
            "object" !== i || null === t.data || "forEach" in t.data
              ? "string" === i && /(?=^(\{)).*?(?=(\})$)/.test(t.data)
                ? JSON.parse(t.data)
                : {}
              : t.data;
        if (!("abv_code" in o)) return;
        switch (o.abv_code) {
          case "skinAd":
            !(function (a) {
              if (!e.checkDomains(a.bg)) return;
              if ($(n).width() < 960)
                return void f({ preventDefault: new Function() });
              var t = $(".blocksContainer"),
                i = $("#siteContent"),
                o = $(
                  "#bannerMiddlePage, .blocksContainer > div, #banner300x250, #ribbon"
                ),
                c =
                  'frameborder="0" scrolling="no" "sandbox"="allow-same-origin allow-scripts" ';
              o.hide(),
                i.css({ height: a.height }),
                a.Image.src &&
                  t.append(
                    $.minify(
                      '\n                <div style="position: relative; min-height: '
                        .concat(
                          a.height / 2,
                          'px; z-index: 2;" id="skinAdImage">\n                    <a href="'
                        )
                        .concat(
                          a.Image.tag,
                          '" target="_blank">\n                        <img id="skinAdImg" scrolling="no" " width="'
                        )
                        .concat(
                          a.Image.w,
                          '" \n                            height="'
                        )
                        .concat(a.Image.h, '" style="')
                        .concat(a.Image.css, '" src="')
                        .concat(
                          a.Image.src,
                          '" />\n                    </a>\n                </div>\n            '
                        )
                    )
                  );
              a.Banner.src &&
                t.append(
                  $.minify(
                    '\n                <div style="position: relative; z-index: 2; min-height: '
                      .concat(
                        a.height / 2,
                        'px;" id="skinAdBanner">\n                    <iframe id="skinAdBannerFrame" width="'
                      )
                      .concat(
                        a.Banner.w,
                        '" \n                        height="'
                      )
                      .concat(a.Banner.h, '" style="')
                      .concat(a.Banner.css, '" \n                        src="')
                      .concat(a.Banner.src, "#")
                      .concat(a.Banner.tag, '" ')
                      .concat(c, "/>\n                </div>\n            ")
                  )
                );
              a.video.src &&
                t.append(
                  $.minify(
                    '\n                <div style="'
                      .concat(
                        a.video.css,
                        " position: relative; z-index: 2; width: "
                      )
                      .concat(
                        a.video.w,
                        'px;" id="skinAdVideo">\n                    <video id="skinAdVideoPlayer" type="video/mp4"  \n                        src="'
                      )
                      .concat(a.video.src, '" width="')
                      .concat(a.video.w, '" \n                        height="')
                      .concat(a.video.h, '" poster="')
                      .concat(
                        a.video.image,
                        '"></video>\n                    <a id="skinAdVideoLink" \n                        style="display: block; position: absolute; width: '
                      )
                      .concat(
                        a.video.w,
                        "px; \n                                height: "
                      )
                      .concat(
                        a.video.h - 60,
                        'px; top: 0; left: 0; z-index: 2;"></a>\n                    <span id="videoPlayButton" \n                        style="background: url(https://img.abv.bg/images/play.png) no-repeat 50%; \n                                display: block; position: absolute; width: '
                      )
                      .concat(
                        a.video.w,
                        "px; \n                                height: "
                      )
                      .concat(
                        a.video.h,
                        'px; top: 0; left: 0; z-index: 3; cursor: pointer;"></span>\n                </div>\n            '
                      )
                  )
                );
              var r = {
                position: "absolute",
                width: "100%",
                height: a.height,
                top: 35,
                left: 0,
                zIndex: 1,
              };
              /(\.png|\.jpg|\.jpeg)$/i.test(a.bg)
                ? ((r.background = "url("
                    .concat(a.bg, ") no-repeat 50% ")
                    .concat(a.bgTop, "px")),
                  i.append(
                    $(
                      $.minify(
                        '\n                    <div class="skinAdWallpaper">\n                        <a'
                          .concat(
                            a.clickTag ? ' href="' + a.clickTag + '" ' : "",
                            ' \n                            target="_blank" style="display: block; height: 100%; '
                          )
                          .concat(
                            a.light
                              ? ""
                              : "background: linear-gradient(180deg, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 30%);",
                            '"></a>\n                    </div>\n                '
                          )
                      )
                    ).css(r)
                  ))
                : i.append(
                    $(
                      '<iframe class="skinAdWallpaper" \n                    src="'
                        .concat(a.bg, "#cb=")
                        .concat(Date.now(), "&clickTag=")
                        .concat(a.clickTag, '" />')
                    ).css(r)
                  );
              $("body").css({ background: "#f0f0f0" }),
                $("header.ribbon, footer, .formContainer, .abv-Banner").css({
                  zIndex: 2,
                  position: "relative",
                });
              var s = a.color
                ? ' style="background: ' + a.color + ';"'
                : a.light
                ? ""
                : ' style="background: #222;"';
              $(
                $(
                  $.minify(
                    '\n                    <a href="#" class="skinAdClose">\n                        Затвори\n                        <span class="close" style="position: absolute;">\n                            <span'
                      .concat(s, "></span>\n                            <span")
                      .concat(
                        s,
                        "></span>\n                        </span>\n                    </a>\n                "
                      )
                  )
                ).css({
                  font: "bold 15px sans-serif, Arial",
                  color: a.color ? a.color : a.light ? "#fff" : "#222",
                  background: a.color
                    ? "transparent"
                    : a.light
                    ? "#222"
                    : "#fff",
                  position: "absolute",
                  zIndex: 2,
                  padding: "2px 30px 2px 6px",
                  textDecoration: "none",
                  right: 0,
                  top: 0,
                  display: "block",
                })
              )
                .add(
                  $(
                    $.minify(
                      '\n                    <a href="'.concat(
                        a.clickTag,
                        '" \n                    target="_blank" \n                    class="banner300h250Click"></a>\n                '
                      )
                    )
                  ).css({
                    width: 300,
                    height: 250,
                    position: "absolute",
                    zIndex: 1,
                    left: 0,
                    top: 0,
                    display: "block",
                  })
                )
                .appendTo(".abv-Banner"),
                $("#skinAdVideo").on("playing", function () {
                  a.playCounter && (new Image().src = a.playCounter);
                }),
                $("body").on("click", ".skinAdClose", f),
                $(n).on("resize", function (e) {
                  $(n).width() < 960 && f(e);
                });
              var d = $("#skinAdVideoPlayer"),
                l = $("#videoPlayButton");
              l.on("click", h),
                d.on("ended", b),
                a.clickTag &&
                  $("#skinAdVideoLink")
                    .prop("href", a.clickTag)
                    .prop("target", "_blank");
              if (a.moat) {
                var g = a.moat,
                  p = $(".skinAdWallpaper");
                (g = g
                  .replaceAll("%%CACHEBUSTER%%", Date.now())
                  .replace("[DOMAIN]", location.hostname)
                  .replace("[PAGEURL]", location.href)
                  .replace("[PLAYERSIZE]", p.width() + "x" + p.height())
                  .replace("[PLAYERSTATE]", p.length)),
                  (new Image().src = g),
                  $.log("### Moat is hit: ", g);
              }
              function h() {
                d[0].play(), d.attr("controls", ""), l.hide();
              }
              function b() {
                d.removeAttr("controls"), d[0].load(), l.show();
              }
              function f(n) {
                n.preventDefault();
                var e = location.hostname,
                  c = $.cookie("_h") ? "&pl=" + $.cookie("_h") : "",
                  r =
                    "localhost" === e
                      ? "https://bimg.abv.bg/a/r.html?p=10&dom=www.abv.bg&cb=".concat(
                          Date.now()
                        )
                      : "https://bimg.abv.bg/a/skinadBack.html?dom="
                          .concat(e, "&cb=")
                          .concat(Date.now())
                          .concat(c);
                $("#banner300x250").attr("src", r),
                  $("body").add(t).add(o).add(i).removeAttr("style"),
                  $(
                    ".skinAdWallpaper, .banner300h250Click, .skinAdClose"
                  ).remove(),
                  a.video.src && $("#skinAdVideo").remove(),
                  a.Banner.src && $("#skinAdBanner").remove(),
                  a.Image.src && $("#skinAdImage").remove();
              }
            })(o);
            break;
          case "wallpaper":
            !(function (n) {
              if (!e.checkDomains(n.backgroundImage)) return;
              var a = Math.max.apply(null, [
                  $("body").height(),
                  $(window).height(),
                ]),
                t = $('<a href="' + n.clickTag + '" target="_blank" />').css({
                  position: "fixed",
                  top: -35,
                  left: 0,
                  width: "100%",
                  height: isNaN(a) ? "100%" : a,
                  minHeight: "calc(100% + 35px)",
                  background:
                    n.backgroundColor +
                    " url(" +
                    n.backgroundImage +
                    ") no-repeat",
                  backgroundPosition: n.backgroundPosition
                    ? n.backgroundPosition
                    : "0 0",
                }),
                i = /(jpg|gif|png)$/i.test(n.bannerURL)
                  ? '<a href="' +
                    n.clickTag +
                    '" target="_blank"><img src="' +
                    n.bannerURL +
                    '" alt="" width="300" height="250" /></a>'
                  : '<iframe src="' +
                    n.bannerURL +
                    "#clickTag=" +
                    n.clickTag +
                    '" width="300" height="250" frameborder="0" scrolling="no" "sandbox"="allow-same-origin allow-scripts" />';
              Object.keys(n.bannerCss || {}).length && t.css(n.bannerCss);
              $(
                "header.ribbon,\n            footer,\n            .formContainer,\n            .blocksContainer,\n            .abv-Banner"
              ).css({ zIndex: 2, position: "relative" }),
                $("#banner300x250, #ribbon").remove(),
                $("#siteContent")
                  .css({
                    position: "relative",
                    background: "#fff",
                    padding: "38px 3px 35px",
                    zIndex: 2,
                    boxSizing: "initial",
                  })
                  .after(t),
                $(".abv-Banner").append(i);
            })(o);
            break;
          case "abv_nativeAd":
            !(function (n) {
              if (!e.checkDomains(n.thumbWide)) return;
              var a = decodeURIComponent(n.title),
                t = decodeURIComponent(n.url),
                i = n.thumbWide,
                o =
                  "hostSite" in n && n.hostSite
                    ? "Реклама от " + n.hostSite
                    : "Реклама",
                c = $(
                  '<img alt="'.concat(
                    o,
                    '" \n                width="13" height="10" \n                src="https://img.abv.bg/AbvProductAds/pp_icon.gif" \n                style="margin-left: 6px; vertical-align: baseline;" />'
                  )
                ),
                r = function (n, e) {
                  var a = e.length > 0 ? parseInt(e[0]) : 20,
                    t = e.length > 1 ? e[1] : "...";
                  return n.length > a ? n.substring(0, a) + t : n;
                },
                s =
                  "gong" === new URL(n.location.parent).searchParams.get("pos")
                    ? "Sport"
                    : "News";
              if (($.log("Item: ", s), "hostSite" in n))
                switch (n.hostSite) {
                  case "gong.bg":
                    d((s = "Sport"));
                    break;
                  case "edna.bg":
                    d((s = "Edna"));
                    break;
                  case "nova.bg":
                    l();
                    break;
                  case "vesti.bg":
                    d(s);
                    break;
                  default:
                    "hidden" ===
                    new URL(n.location.parent).searchParams.get("pos")
                      ? l()
                      : d(s);
                }
              else d(s);
              function d(n) {
                $("#block-".concat(n))
                  .find("li:eq(3) a")
                  .text(r(a, [45, "..."]))
                  .attr("title", a + " - " + o)
                  .attr("href", t)
                  .attr("data-image", i)
                  .append(c);
              }
              function l() {
                var n = $("#newsNovaBlock li:eq(3)");
                n.find("figure img").attr("alt", a).attr("src", i),
                  n.find("figure a").attr("href", t),
                  n
                    .find("p a")
                    .text(r(a, [90, "..."]))
                    .attr("title", a + " - " + o)
                    .attr("href", t)
                    .append(c);
              }
            })(o);
            break;
          case "abvRibbon":
            !(function (a) {
              if (($.log("Abv Ribbon v.1.2.1"), !e.checkDomains(a.bannerURL)))
                return;
              var t = encodeURIComponent(a.bannerCOUNT + a.clickTag),
                i = 'style="padding-top: 25px;"',
                o = /(png|jpg|jpeg|gif)$/i.test(a.bannerURL)
                  ? "<div "
                      .concat(
                        i,
                        '>\n                    <a target="_blank" href="'
                      )
                      .concat(t, '">\n                        <img src="')
                      .concat(a.bannerURL, '" width="960" height="70"  ')
                      .concat(
                        c(),
                        ' alt="" />\n                    </a>\n                </div>'
                      )
                  : "<div "
                      .concat(
                        i,
                        '>\n                    <iframe id="abv-ribbonFrame" src="'
                      )
                      .concat(
                        a.bannerURL + "?cb=" + Date.now() + "&clickTag=" + t,
                        '" \n                        width="100%" height="auto" '
                      )
                      .concat(
                        c(),
                        ' scrolling="no" frameborder="0"></iframe>\n                </div>'
                      );
              function c() {
                var e = "height" in a && Object.keys(a.height).length,
                  t = a.height;
                return 'style="height: '.concat(
                  e
                    ? (function () {
                        if (!e) return "";
                        function a(n) {
                          var e = $("#abv-ribbonFrame");
                          n.matches
                            ? e.css({ height: t.max })
                            : e.css({ height: t.min });
                        }
                        return (
                          n
                            .matchMedia("(max-width: 960px)")
                            .addEventListener("change", a),
                          $(n).width() > 960 ? t.min : t.max
                        );
                      })()
                    : 70,
                  'px; width: 100%; max-height: auto; overflow: hidden;"'
                );
              }
              $("id" in a && a.id ? a.id : "#bannerMiddlePage").append(
                $.minify(o)
              );
            })(o);
            break;
          case "abvClock":
            !(function (n) {
              if (!e.checkDomains(n.src)) return;
              var a = {},
                t =
                  "display: block; \n                width: 100%; \n                overflow: hidden; \n                height: 26px; \n                position: absolute;\n                left: 0; \n                top: 0;",
                i = $.minify(
                  '\n                            <a href="'
                    .concat(n.url, '" target="_blank" style="')
                    .concat(
                      $.minify(t),
                      '">\n                                <img src="'
                    )
                    .concat(
                      n.src,
                      '" alt="" height="26" width="100%" />\n                            </a>\n                        '
                    )
                );
              $("#dateTime")
                .css({ position: "relative", paddingTop: 36 })
                .append(i),
                window.clearInterval(clock_tid),
                n.color &&
                  ($("#dateTime #calendar .today").css("background", n.color),
                  (a = Object.assign(a, { color: { hands: n.color } })));
              n.font && (clock.font = n.font);
              n.counter && (new Image().src = n.counter);
              $("#clock canvas").clock(a);
            })(o);
            break;
          case "runBrandHeader":
            !(function (n) {
              var a = null;
              if (c(n)) return;
              function t() {
                var e,
                  t = $.cookie(n.cookie),
                  c = n.click;
                if ((t ? ((e = parseInt(t, 10)), e++) : (e = 0), !(t > n.n))) {
                  $.cookie(n.cookie, e, {
                    expires: n.expires,
                    path: "/",
                    domain: ".abv.bg",
                  });
                  var r =
                    '<div id="brandedObject" style="z-index: 1000001; display: table; position: absolute; top: 0; left: 0;">\n                                    <a target="_blank" href="javascript: //">\n                                        <img id="brandedImage" src="'.concat(
                      n.src + "?v=" + Date.now(),
                      '" alt="" />\n                                    </a>\n                                </div>'
                    );
                  $("body").append($.minify(r)),
                    (a = $("#brandedObject")),
                    i(n.speed),
                    $("#brandedObject").on("click", function () {
                      o(), window.open(c, "_blank");
                    }),
                    n.impression && (new Image().src = n.impression);
                }
              }
              function i(n) {
                var e = a.width(),
                  t = { left: $(window).width() - e };
                e
                  ? a.animate(t, {
                      duration: n,
                      step: function (n) {
                        $(a).css("left", n);
                      },
                      complete: o,
                    })
                  : setTimeout(function () {
                      i(n);
                    }, 100);
              }
              function o() {
                $("#brandedImage").attr(
                  "src",
                  n.src2 + "?v=" + new Date().getTime()
                ),
                  setTimeout(function () {
                    a.remove();
                  }, n.duration),
                  a.stop(!0);
              }
              function c(n) {
                return !e.checkDomains(n.src) || !e.checkDomains(n.src2);
              }
              setTimeout(t, n.start);
            })(o);
        }
      },
      !1
    );
})(window);
$.put(function () {
  try {
    ["#newsHolder", "#sportHolder", "#ednaHolder"].map(function (t) {
      return (function (t) {
        var a = [],
          n = $(t),
          e = n.find("figure"),
          c = n.find("ul");
        switch (t) {
          case "#newsHolder":
            if (!$.blockCheck("vesti", "#newsHolder")) return;
            (a = Data.blocks.vesti.articles), (a = $.addCount.call(a, 172623));
            break;
          case "#sportHolder":
            if (!$.blockCheck("gong", "#sportHolder")) return;
            (a = Data.blocks.gong.articles), (a = $.addCount.call(a, 172633));
            break;
          case "#ednaHolder":
            if (!$.blockCheck("edna", "#ednaHolder")) return;
            (a = Data.blocks.edna.articles), (a = $.addCount.call(a, 172643));
        }
        var o = $.minify(
            '\n                <a href="'
              .concat(
                a[0].url,
                '" \n                target="_blank" data-counter="'
              )
              .concat(a[0].counter, '">\n                    <img src="')
              .concat($.empty, '" data-src="')
              .concat(a[0].image, '" alt="')
              .concat(a[0].title, '" />\n                </a>\n            ')
          ),
          r = "";
        a.map(function (t) {
          return (r += $.minify(
            "\n            <li "
              .concat(
                a.indexOf(t) ? "" : 'class="selected"',
                '>\n                <a href="'
              )
              .concat(t.url, '" target="_blank" data-counter="')
              .concat(t.counter, '" \n                data-id="')
              .concat(t.id, '" data-image="')
              .concat(t.image, '">\n                    ')
              .concat(
                t.title,
                "\n                </a>\n            </li>\n        "
              )
          ));
        }),
          e.append(o),
          c.append(r);
        var l = $(t).find("li a");
        l.on("mouseover", function (t) {
          var a = $(t.target),
            n = a.data(),
            e = a.parents(".block").find("figure img"),
            c = e.parent();
          l.parent().removeClass("selected"),
            a.parent().addClass("selected"),
            e.attr("src", n.image),
            e.attr("alt", a.text()),
            c.attr("href", a.prop("href")),
            c.data("counter", n.counter),
            c.off("click"),
            c.on("click", function (t) {
              var a = $(t.target);
              $.makeClick(a.parent().data().counter);
            });
        });
      })(t);
    });
  } catch (t) {
    console.log(t);
  }
  $(".block li a[data-counter]").on("click", function () {
    $.makeClick(this.dataset.counter);
  }),
    $(".block h3 span.fl").on("click", function (t) {
      $.cancelEvent(t);
      var a = $(this),
        n = $(document);
      function e() {
        a
          .parents(".block")
          .find("ol")
          .slideToggle("fast", function () {
            var t = this;
            setTimeout(function () {
              $(t).is(":hidden") && ($(t).removeAttr("style"), n.off("click"));
            }, 300);
          }),
          a.find("i").toggleClass("down");
      }
      e(), n.on("click", e);
    });
});
($.fn.calendar = function (a, e) {
  var t = e || Date.now();
  $(this).append(
    (function (a) {
      var e = new Date(t),
        n = [31, 0, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      n[1] =
        (e.getFullYear() % 100 != 0 && e.getFullYear() % 4 == 0) ||
        e.getFullYear() % 400 == 0
          ? 29
          : 28;
      for (
        var l = new Date(e.getFullYear(), e.getMonth(), 1),
          s = "",
          d = 0,
          y = 1 - (0 != l.getDay() ? l.getDay() - 1 : 6);
        y <= n[e.getMonth()];
        y++
      ) {
        var o = "";
        y == e.getDate()
          ? (o = a.todayClass)
          : (5 != d && 6 != d) || (o = a.weekendClass);
        var r =
          a.dayClass || o
            ? ' class="'.concat(
                o && a.dayClass
                  ? a.dayClass + " " + o
                  : a.dayClass
                  ? a.dayClass
                  : o,
                '"'
              )
            : "";
        (s += "\n                <"
          .concat(a.dayElement)
          .concat(r, ">\n                    ")
          .concat(y > 0 ? y : "", "\n                </")
          .concat(a.dayElement, ">\n                ")),
          7 == ++d && ((d = 0), (s += "<br />"));
      }
      return $.minify(s);
    })(a)
  );
}),
  $.put(function () {
    var a = $.getTime(),
      e = new Date(a);
    $("#dayInfo .year").text(e.getFullYear()),
      $("#dayInfo .title").text(
        [
          "Неделя",
          "Понеделник",
          "Вторник",
          "Сряда",
          "Четвъртък",
          "Петък",
          "Събота",
        ][e.getDay()]
      ),
      $("#dayInfo .month").text(
        [
          "Януари",
          "Февруари",
          "Март",
          "Април",
          "Май",
          "Юни",
          "Юли",
          "Август",
          "Септември",
          "Октомври",
          "Ноември",
          "Декември",
        ][e.getMonth()]
      ),
      $("#dayInfo .day").text(e.getDate()),
      $("#calendar main").calendar(
        {
          dayElement: "span",
          dayClass: "",
          todayClass: "today",
          weekendClass: "end",
        },
        a
      );
  });
($.fn.clock = function (t) {
  var e = new (function (t, e) {
    var i = this;
    e = e || {};
    var o = t.get(0),
      n = "time" in e && "number" === $.checkType(e.time) ? e.time : Date.now();
    (this.color = {
      circle: "#858585",
      seconds: "#858585",
      hands: "#2f2f2f",
      outer: "#e0e0e0",
      text: "#000",
    }),
      "color" in e &&
        "object" === $.checkType(e.color) &&
        (this.color = Object.assign(this.color, e.color));
    return (
      (this.font =
        "font" in e && "string" === $.checkType(e.font)
          ? e.font
          : "12px Verdana"),
      (this.drawHand = function (t, e, o) {
        (t.lineWidth = 1),
          t.beginPath(),
          o
            ? (t.moveTo(1, 1),
              t.lineTo(1, -e),
              t.lineTo(-1, -e),
              t.lineTo(-1, 1),
              t.lineTo(1, 1),
              (t.fillStyle = i.color.seconds))
            : (t.moveTo(0, 3),
              t.lineTo(-3, 0),
              t.lineTo(0, -e),
              t.lineTo(3, 0),
              t.lineTo(0, 3),
              (t.fillStyle = i.color.hands)),
          t.fill();
      }),
      (this.drawCircle = function (t, e, i, o, n) {
        (t.lineWidth = 1),
          t.beginPath(),
          t.arc(e, i, o, 0, 2 * Math.PI, !0),
          n
            ? ((t.fillStyle = this.color.circle), t.fill())
            : ((t.strokeStyle = this.color.outer), t.stroke());
      }),
      (this.time = function () {
        n += 1e3;
        var t = new Date();
        return (
          t.setTime(n),
          { hrs: t.getHours(), min: t.getMinutes(), sec: t.getSeconds() }
        );
      }),
      (this.showClock = function () {
        var t,
          e,
          i,
          n = o.getContext("2d"),
          l = this.time();
        (t = l.sec),
          (e = l.min),
          (i = l.hrs),
          n.clearRect(0, 0, 112, 112),
          (n.font = this.font),
          (n.textBaseline = "middle"),
          (n.textAlign = "center"),
          (n.lineWidth = 1),
          this.drawCircle.call(this, n, 56, 56, 56, !1),
          n.translate(56, 56);
        for (var c = 5; c <= 60; c += 5) {
          var r = (Math.PI / 30) * c,
            s = 45 * Math.sin(r),
            a = -45 * Math.cos(r);
          (n.fillStyle = this.color.text), n.fillText(c / 5, s, a);
        }
        n.save(),
          n.rotate((Math.PI / 6) * (i + e / 60 + t / 3600)),
          this.drawHand.call(this, n, 28),
          n.restore(),
          n.save(),
          n.rotate((Math.PI / 30) * (e + t / 60)),
          this.drawHand.call(this, n, 41),
          n.restore(),
          n.save(),
          n.rotate((Math.PI / 30) * t),
          this.drawHand.call(this, n, 49, !0),
          n.restore(),
          this.drawCircle.call(this, n, 0, 0, 4, !0),
          n.translate(-56, -56);
      }),
      (this.init = function () {
        var t = this;
        if (
          ("undefined" != typeof clock_tid &&
            clock_tid > -1 &&
            window.clearInterval(clock_tid),
          o && o.getContext)
        ) {
          window.clock_tid = window.setInterval(function () {
            t.showClock.call(t);
          }, 1e3);
        }
      }),
      this
    );
  })($(this), t);
  e.init();
}),
  $.put(function () {
    $("#clock canvas").clock({ time: $.getTime() });
  });
$.put(function () {
  if ($.blockCheck("pariteni", "#pariteniContent"))
    try {
      !(function () {
        var t = $.getTime(),
          n = $(".currency"),
          c = n.find("time"),
          a = $("#pariteniContent ul"),
          i = Data.blocks.pariteni.articles,
          e = new Date(t).toJSON().slice(0, 10).split("-");
        (e = "".concat(e[2], ".").concat(e[1], ".").concat(e[0])), c.text(e);
        var o = "",
          r = "";
        Data.blocks.pariteni.currency.map(function (t) {
          return (o += $.minify(
            "\n            <tr>\n                <td>"
              .concat(
                t.title,
                "</td>\n                <td>\n                    "
              )
              .concat(t.value)
              .concat(
                t.trend < 0
                  ? '<i class="arrow down"></i>'
                  : t.trend > 0
                  ? '<i  class="arrow up"></i>'
                  : "",
                "\n                </td>\n                <td>"
              )
              .concat(t.bg, "</td>\n            </tr>\n        ")
          ));
        }),
          n.append(o),
          (i = $.addCount.call(i, 172653)).map(function (t) {
            return (r += $.minify(
              '\n            <li>\n                <a href="'
                .concat(t.url, '" \n                data-counter="')
                .concat(t.counter, '" target="_blank">\n                    ')
                .concat(
                  t.title,
                  "\n                </a>\n            </li>\n        "
                )
            ));
          }),
          a.append(r),
          a.find("a[data-counter]").on("click", function () {
            $.makeClick(this.dataset.counter);
          });
      })();
    } catch (t) {
      console.log(t);
    }
});
$.put(function () {
  try {
    !(function (e) {
      var t =
        !$.blockCheck("vbox7", "#funShow") &&
        !$.blockCheck("vicove", "#funShow") &&
        !$.blockCheck("telegraph", "#funShow");
      if (($.log("### Fun start: ", e, t), t)) return;
      var n = { fun: [2, !0], video: [3, !1], news: [1, !0], speed: 500 },
        s = new Event("slide", { bubbles: !0, cancelable: !1 }),
        i = $("#funShow"),
        a =
          e.blocks.vbox7 && "articles" in e.blocks.vbox7
            ? e.blocks.vbox7.articles
            : [],
        l =
          e.blocks.vicove && "articles" in e.blocks.vicove
            ? e.blocks.vicove.articles
            : [],
        r =
          e.blocks.telegraph && "articles" in e.blocks.telegraph
            ? e.blocks.telegraph.articles
            : [],
        o = i.find(".left, .right"),
        c = i.find("nav"),
        u = null,
        f = function (e, t) {
          return $.minify(
            '<div class="fun slide">\n                    <h4>'
              .concat(
                e,
                '</h4>\n                    <a href="https://www.vesti.bg/vicove" target="_blank" class="fr abv-f11">Още вицове</a>\n                    <p>'
              )
              .concat(t, "</p>\n                </div>")
          );
        },
        d = function (e, t, n, s) {
          return $.minify(
            '<div class="video slide'
              .concat(
                s ? " " + s : "",
                '">\n                <h4>\n                    <a href="'
              )
              .concat(e, '" target="_blank">\n                        ')
              .concat(
                n,
                '\n                    </a>\n                </h4>\n                <a class="fr" href="'
              )
              .concat(e, '" target="_blank">\n                    ') +
              (i.isInViewport()
                ? '<img src="'.concat(t, '" alt="').concat(n, '" />')
                : '<img src="'
                    .concat($.empty, '" data-src="')
                    .concat(t, '" alt="')
                    .concat(n, '" />')) +
              "\n                </a>\n            </div>"
          );
        },
        v = [],
        h = [],
        p = [],
        g = [];
      a.map(function (e) {
        return h.push(d(e.url, e.image, e.title, "vbox7"));
      }),
        r.map(function (e) {
          return p.push(d(e.url, e.image, e.title, "telegraph"));
        }),
        (g = [f("Виц на деня", l.daily), f("Популярен", l.pop)]),
        $.log("### Fun feed: ", h, g, p, c),
        n.video[1] && h.length && v.push([n.video[0], h]);
      n.fun[1] && g.length && v.push([n.fun[0], g]);
      n.news[1] && p.length && v.push([n.news[0], p]);
      for (var b = [], k = 0; k < v.sort().length; k++) b = b.concat(v[k][1]);
      b.map(function () {
        return c.append($("<b />"));
      }),
        (u = i.find(".slider b"));
      var w = 0,
        m = 1,
        y = !1,
        C = b.length - 1,
        T = function (e) {
          $.cancelEvent(e),
            y ||
              ("right" === e.currentTarget.className || "swipeleft" === e.type
                ? ((w = w < C ? w + 1 : 0), (m = 1))
                : ("left" !== e.currentTarget.className &&
                    "swiperight" !== e.type) ||
                  ((w = w > 0 ? w - 1 : C), (m = 0)),
              u.removeClass("sel"),
              u.eq(w).addClass("sel"),
              F(w));
        };
      o.on("click", T);
      var x = !1;
      function E() {
        (w = _()), u.removeClass("sel"), u.eq(w).addClass("sel"), S(w);
      }
      function S(e) {
        var t = $(b[e]);
        return (
          i.append(t),
          A(e),
          window.dispatchEvent(s),
          $(".slide").off("swiperight swipeleft"),
          $(".slide").on("swiperight swipeleft", T),
          t
        );
      }
      function A(e) {
        var t = $(".funTitle, .vbox7Title, .telegraphTitle"),
          n = $(".funTitle"),
          s = $(".telegraphTitle"),
          i = $(".vbox7Title");
        t.addClass("none"),
          /slide\svbox7/.test(b[e])
            ? i.removeClass("none")
            : /slide\stelegraph/.test(b[e])
            ? s.removeClass("none")
            : n.removeClass("none");
      }
      function F(e) {
        var t = n.speed,
          s = -1,
          a = 1;
        y = !0;
        var l = i.find(".slide");
        l.animate({ left: (m ? s : a) * l.width() }, t, function () {
          $(this).remove();
        });
        var r = S(e);
        r.css({ left: (m ? a : s) * r.width() }),
          r.animate({ left: 0 }, t, function () {
            (y = !1), $(this).removeAttr("style");
          });
      }
      function _() {
        return Math.round(Math.random() * C);
      }
      $(window).on("keydown keyup", function (e) {
        var t = $(".left"),
          n = $(".right"),
          s = 50;
        "ArrowRight" === e.originalEvent.key
          ? ("keydown" !== e.type ||
              x ||
              (n.trigger("click").addClass("selected"), (x = !0)),
            "keyup" === e.type &&
              (setTimeout(function () {
                return n.removeClass("selected");
              }, s),
              (x = !1)))
          : "ArrowLeft" === e.originalEvent.key &&
            ("keydown" !== e.type ||
              x ||
              (t.trigger("click").addClass("selected"), (x = !0)),
            "keyup" === e.type &&
              (setTimeout(function () {
                return t.removeClass("selected");
              }, s),
              (x = !1)));
      }),
        u.on("click", function (e) {
          if (!y) {
            var t = e.currentTarget,
              n = $(t).index(".slider b");
            u.removeClass("sel"),
              $(t).addClass("sel"),
              (m = w < n ? 1 : 0),
              F((w = n));
          }
        }),
        E();
    })(Data);
  } catch (e) {
    $.log("### Fun error: ", e);
  }
});
function _typeof(t) {
  return (
    (_typeof =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              "function" == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    _typeof(t)
  );
}
function _toConsumableArray(t) {
  return (
    _arrayWithoutHoles(t) ||
    _iterableToArray(t) ||
    _unsupportedIterableToArray(t) ||
    _nonIterableSpread()
  );
}
function _nonIterableSpread() {
  throw new TypeError(
    "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
  );
}
function _unsupportedIterableToArray(t, e) {
  if (t) {
    if ("string" == typeof t) return _arrayLikeToArray(t, e);
    var o = Object.prototype.toString.call(t).slice(8, -1);
    return (
      "Object" === o && t.constructor && (o = t.constructor.name),
      "Map" === o || "Set" === o
        ? Array.from(t)
        : "Arguments" === o ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)
        ? _arrayLikeToArray(t, e)
        : void 0
    );
  }
}
function _iterableToArray(t) {
  if (
    ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
    null != t["@@iterator"]
  )
    return Array.from(t);
}
function _arrayWithoutHoles(t) {
  if (Array.isArray(t)) return _arrayLikeToArray(t);
}
function _arrayLikeToArray(t, e) {
  (null == e || e > t.length) && (e = t.length);
  for (var o = 0, r = new Array(e); o < e; o++) r[o] = t[o];
  return r;
}
!(function (t, e) {
  console.log("# GDPR abv v.12.1.20 #");
  var o = /dox\.abv\.bg|doxbg\.ni\.bg/g.test(e),
    r = "euconsent-v2-01",
    n = "euconsent-v2";
  function a() {
    var t = new MutationObserver(function (o) {
      o.map(function (o) {
        var n = e(o.removedNodes);
        e(
          [].concat(_toConsumableArray(o.addedNodes), _toConsumableArray(n))
        ).map(function (t) {
          1 === t.nodeType && t.setAttribute("data-mark", "abv-google-consent");
        }),
          n.map(function (e) {
            "function" == typeof __tcfapi &&
              $(e).hasClass("fc-consent-root") &&
              __tcfapi("addEventListener", 2, function (e, o) {
                o &&
                  (console.log("### consent 1: ", e),
                  !s(r) &&
                    "object" === _typeof(e) &&
                    "tcString" in e &&
                    c(r, e.tcString, 365, ".abv.bg"),
                  t.disconnect(),
                  $("*[data-mark]").remove());
              });
          });
      });
    });
    function e(t) {
      return Array.prototype.slice.apply(t);
    }
    t.observe(document.documentElement, {
      childList: !0,
      subtree: !0,
      attributes: !1,
      characterData: !1,
    }),
      $("body").append(
        '<script type="text/javascript" src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>'
      ),
      $("form")
        .get()
        .forEach(function (t) {
          t.reset();
        });
  }
  function i() {
    var e;
    console.log("Open CMP"),
      s(r) && "object" !== _typeof(t.googlefc) && a(),
      "object" === _typeof(t.googlefc)
        ? (e && clearTimeout(e),
          t.googlefc.callbackQueue.push({
            CONSENT_DATA_READY: function () {
              googlefc.showRevocationMessage(),
                __tcfapi("addEventListener", 2, function (t, e) {
                  e &&
                    (console.log("### consent 2: ", t),
                    "object" === _typeof(t) &&
                      "tcString" in t &&
                      c(r, t.tcString, 365, ".abv.bg"));
                });
            },
          }))
        : (e = setTimeout(i, 200));
  }
  function c(t, e, o, r) {
    var n = new Date();
    n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3);
    var a = "expires=" + n.toUTCString();
    document.cookie =
      t + "=" + e + ";" + a + ";path=/" + (r ? "; domain=" + r : "");
  }
  function s(t) {
    for (
      var e = t + "=",
        o = decodeURIComponent(document.cookie).split(";"),
        r = 0;
      r < o.length;
      r++
    ) {
      for (var n = o[r]; " " == n.charAt(0); ) n = n.substring(1);
      if (0 == n.indexOf(e)) return n.substring(e.length, n.length);
    }
    return "";
  }
  $.put(function () {
    (function () {
      if ($("a.abv-gdprTool").length) return;
      var t = $("a.abv-GDPR");
      if (/m\.abv\.bg|www\.abv\.bg/g.test(e))
        t.after('<a class="abv-gdprTool" href="javascript://">Политика ЛД</a>');
      else {
        var r =
          (o ? "" : '<span style="margin: 0 5px;">|</span>') +
          '<a class="abv-gdprTool" href="javascript://">Политика ЛД</a>';
        if (!t.length) return !1;
        t.after(r);
      }
      $(".abv-gdprTool").on("click", i);
    })(),
      s(r) || setTimeout(a, 1e3);
    var t = s(n);
    t && c(n, t, -1, ".abv.bg");
  });
})(window, location.host);
!(function (t, e) {
  console.log("### Gemius v.2.2.3 ###");
  var i = t.createElement("iframe"),
    n = null;
  (i.id = "abv-GemiusCounter"),
    i.setAttribute("src", "https://img.abv.bg/e/s/counters.html?v=2.2"),
    i.setAttribute("frameborder", 0),
    i.setAttribute("scrolling", "no"),
    i.setAttribute("sandbox", "allow-scripts allow-same-origin"),
    i.setAttribute(
      "style",
      "width: 1px; height: 1px; position: fixed; top: -2px; left: -2px; visibility: hidden;"
    ),
    e.addEventListener("DOMContentLoaded", function () {
      t.body.appendChild(i),
        (n = i.contentWindow || i.contentDocument),
        i.addEventListener("load", function () {
          void 0 !== e._GID_ && e._GID_ && pp_gemius_hit(e._GID_);
        });
    }),
    (e.pp_gemius_hit = function (t) {
      n
        ? (e._gtid_ && e.clearTimeout(e._gtid_),
          n.postMessage("pp_gemius_hit#" + t, "*"))
        : (e._gtid_ = e.setTimeout(function () {
            pp_gemius_hit(t), console.log("sent again: ", t);
          }, 5e3));
    });
})(document, window);
!(function (e, t) {
  var a = !1,
    o = e.createElement("iframe"),
    n = null,
    r = "netinfo_consent_bit";
  t.addEventListener(
    "load",
    function () {
      (o.id = "abv-GTMCounter"),
        o.setAttribute(
          "src",
          "https://img.abv.bg/e/s/gtm.html?t=" + new Date().getTime()
        ),
        o.setAttribute("frameborder", 0),
        o.setAttribute("scrolling", "no"),
        o.setAttribute("sandbox", "allow-same-origin allow-scripts"),
        o.setAttribute(
          "style",
          "width: 1px; height: 1px; position: fixed; top: -1px; left: -1px; visibility: hidden;"
        ),
        e.body.appendChild(o),
        (n = o.contentWindow || o.contentDocument),
        (function (e, t, a, o) {
          if (null == e)
            throw new ReferenceError("Parameter parentSelector is NULL");
          if (null == a)
            throw new ReferenceError("Parameter childSelector is NULL");
          var n = e;
          "string" == typeof e && (n = document.querySelector(e));
          for (var r = n.querySelectorAll(a), i = 0; i < r.length; ++i)
            r[i].addEventListener(t, o, !1);
          function s(e) {
            if (null != e) {
              for (var n = 0; n < e.childNodes.length; n++) {
                s(e.childNodes[n]);
              }
              Element.prototype.matches ||
                (Element.prototype.matches =
                  Element.prototype.msMatchesSelector),
                e.matches && e.matches(a) && e.addEventListener(t, o, !1);
            }
          }
          var l = function (e, t) {
              for (var a = 0, o = e; a < o.length; a++) {
                var n = o[a];
                if ("childList" == n.type)
                  for (var r = 0; r < n.addedNodes.length; ++r) {
                    s(n.addedNodes[r]);
                  }
              }
            },
            c = { attributes: !1, childList: !0, subtree: !0 };
          new MutationObserver(l).observe(n, c);
        })("body", "click", "a", eventRegister);
      var i = t.setInterval(function () {
        if (a) {
          clearInterval(i),
            sendToGTM({
              event: "virtualPageviewABV",
              pageLocation: e.location.href,
              pageHostname: e.location.host,
              pagePath: e.location.pathname,
              pageTitle: e.title,
              pageReferrer: e.referrer,
            });
          var t = $.cookie(r);
          t && sendToGTM({ consent: { name: r, value: t } });
        }
      }, 100);
    },
    !1
  ),
    t.addEventListener(
      "message",
      function (e) {
        if ("https://img.abv.bg" !== e.origin) return;
        "abv_gtm" === e.data.toString() && (a = !0);
      },
      !1
    ),
    (t.sendToGTM = function (e) {
      e = JSON.stringify(e);
      try {
        /(?=^(\{)).*?(?=(\})$)/.test(e) && n && n.postMessage(e, "*");
      } catch (e) {
        console.log("Error while sending GTM data: ", e);
      }
    }),
    (t.eventRegister = function (t) {
      var a = t.target,
        o =
          "a" === a.tagName.toLowerCase()
            ? a
            : "a" === a.parentNode.tagName.toLowerCase()
            ? a.parentNode
            : a.closest("a"),
        n = o.target ? o.target : "",
        r = !o.href || /^(javascript\:)|^(\#)|(\#)$/g.test(o.href),
        i = "img" === a.tagName.toLowerCase() || "image" === a.className,
        s = o.textContent
          ? o.textContent
          : i && a.alt
          ? a.alt
          : a.title
          ? a.title
          : "";
      if (!r) {
        var l = a.closest("*[id]"),
          c = l && "id" in l ? l.id : "",
          d =
            (function (e) {
              var t = e,
                a = [];
              for (
                ;
                null != t.parentNode &&
                t.parentNode != document.documentElement;

              )
                a.push(t.parentNode), (t = t.parentNode);
              return a;
            })(a).indexOf(e.querySelector("#blocks")) > -1
              ? "blocks"
              : null !== a.closest('*[id="promoZone"]')
              ? "promoZone"
              : "",
          m =
            "blocks" === d
              ? "hp-blocks-clicks"
              : "promoZone" === d
              ? "hp-promozone-clicks"
              : "other-clicks",
          g = c
            ? Array.prototype.slice
                .call(document.getElementById(c).querySelectorAll("a"))
                .indexOf(o)
            : 0,
          p = new URL(o.href).hostname.replace(/^(www\.)/, ""),
          u = {
            event: t.type,
            "gtm.elementUrl": o.href,
            "gtm.elementTarget": n,
            "gtm.elementId": o.id ? o.id : "",
            "gtm.elementClass": o.className ? o.className : "",
            pageHostname: e.location.host,
            pagePath: e.location.pathname,
            pageTitle: document.title,
            pageLocation: e.location.href,
            clickName: (function (e) {
              var t = "";
              switch (e) {
                case "1":
                  t = "Новини";
                  break;
                case "2":
                  t = "Спорт";
                  break;
                case "3":
                  t = "За жените";
                  break;
                case "4":
                  t = "Забавно";
                  break;
                case "5":
                  t = "Дата / Час";
                  break;
                case "6":
                  t = "Времето";
                  break;
                case "7":
                  t = "Бизнес";
                  break;
                case "8":
                  t = "Хороскопи";
                  break;
                default:
                  t = e;
              }
              return t;
            })(c || d),
            clickCategory: m,
            clickPosition: g + 1 + (i ? " (image)" : ""),
            clickDomain: p,
            clickText: s,
          };
        sendToGTM(u);
      }
    });
})(document, window);
$(function () {
  var a = $("#loginForm");
  a.on("submit", function (e) {
    $.cancelEvent(e);
    var t = a.find("input[type=text]"),
      n = a.find("input[name=password]"),
      i = $(".abv-captcha"),
      c = a.find('input[name="service"]'),
      o = function (a) {
        $.browser.mobile || $(window).width() < 750
          ? c.val(a ? "mobilesaas" : "mobile20")
          : a && c.val("mailsaas");
      };
    o(),
      (function () {
        var a = !0,
          e = $("#g-recaptcha-response").val(),
          c = $("#g-recaptcha-response3").val(),
          o = e && c,
          r = sessionStorage.getItem("abv-login-captcha");
        !i.length ||
          (r && o && e === r) ||
          (a && (a = !1), p(i, "Моля попълнете полето Антиспам верификация."));
        t.val() ||
          (a && (a = !1),
          p(t, "Моля попълнете полето АБВ потребител."),
          t.on("input", s));
        n.val() ||
          (a && (a = !1),
          p(n, "Моля попълнете полето Парола."),
          n.on("input", s));
        n.val().length < 3 &&
          (a && (a = !1),
          p(n, "Моля попълнете полето Парола правилно."),
          n.on("change input", s));
        /^[a-zA-Z0-9._-]{3,30}$|^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(
          t.val()
        ) ||
          (a && (a = !1),
          p(t, "Моля попълнете полето АБВ потребител правилно."),
          t.on("change input", s));
        return a;
        function p(a, e) {
          0 === a.next(".abv-error").length &&
            a.after('<span class="abv-red abv-error">'.concat(e, "</span>"));
        }
        function s(a) {
          var e = $(a.target).next(".abv-error");
          e.length && e.remove();
        }
      })() &&
        (t.val().indexOf("@") > -1 &&
          !/(abv\.bg|gbg\.bg|gyuvetch\.bg)+$/i.test(t.val().split("@")[1]) &&
          (o(!0),
          a.attr("action", "https://apps.abv.bg/cpanel/app/passportlogin")),
        this.submit());
  }),
    $.cookie("hFyuTdd") && $.cookie("hFyuTdd", "", { expires: -1 }),
    $.cookie("_h")
      ? $.cookie("_h", $.cookie("_h"), {
          expires: 365,
          path: "/",
          domain: ".abv.bg",
        })
      : $.cookie(
          "_h",
          $.md5((Date.now() + navigator.userAgent).replace(/\s+/gi, "")),
          { expires: 365, path: "/", domain: ".abv.bg" }
        ),
    $(".abv-mobile").on("click", function (a) {
      $.cancelEvent(a),
        $.cookie("abv_mob_nd", null, {
          expires: 365,
          path: "/",
          domain: ".abv.bg",
        }),
        (location.href = $(a.target).prop("href"));
    }),
    $.put(function () {
      $.log("Captcha test: ", "captcha" in Data && Data.captcha >= 1),
        $(window).on("message", function (a) {
          if (!(!1 in a)) {
            var e = a.originalEvent;
            if ("https://img.abv.bg" === e.origin) {
              var t = (function (a) {
                  var e = null;
                  try {
                    e = JSON.parse(a);
                  } catch (a) {
                    $.log(a);
                  }
                  return e;
                })(e.data),
                n = t && "response" in t,
                i = n ? t.response : "";
              if (i) {
                sessionStorage.setItem("abv-login-captcha", i);
                var c = $(".abv-captcha + span.abv-error");
                c.length && c.remove();
              }
              $.log(n, n ? t.response : "", e.origin);
            }
          }
        });
      var e =
        '\n            <div class="abv-row x">\n                <script type="text/javascript" src="https://img.abv.bg/e/s/recaptchav3.js?v=1676538889084"></script>\n                <h3>Антиспам верификация:</h3>\n                <div class="abv-captcha">       \t\t\n                    <input type="hidden" id="g-recaptcha-response" name="g-recaptcha-response" value="" data-req="Антиспам верификация" />\n                    <input type="hidden" id="g-recaptcha-response3" name="g-recaptcha-response3" value="" />   \n                    <input type="hidden" id="recaptchaaction" name="recaptchaaction" value="abv" />  \n                    <div class="grecaptcha-badge"></div>\n                    <div class="recaptcha-row recaptcha-login"></div>\n                </div>\n            </div>\n        '.trim();
      "captcha" in Data && Data.captcha >= 1 && a.find("p:eq(1)").after(e);
    });
});
var _GID_ = "pyM6ETuay1axb8mosdTjz6R..KfGoHBcgod0mxirr8X.07";
$(function () {
  var e = $("nav.abv-menu"),
    c = $("body");
  e.on("click", function (n) {
    $.cancelEvent(n);
    var t = e.parent();
    function o() {
      t.removeClass("selected"), c.off("click", o);
    }
    t.toggleClass("selected"),
      setTimeout(function () {
        c.on("click", o);
      }, 100);
  });
});
$.put(function () {
  if ($.blockCheck("nova", "#newsNovaBlock"))
    try {
      !(function () {
        var n = Data.blocks.nova.articles;
        if (!$.jsonCheck(n)) return;
        var a = function (n, a, c) {
            return $.minify(
              '\n            <li>\n                <figure>\n                    <a href="'
                .concat(
                  n,
                  '" target="_blank">\n                        <img src="'
                )
                .concat($.empty, '" data-src="')
                .concat(a, '" alt="')
                .concat(
                  c,
                  '" />\n                    </a>\n                </figure>\n                <p>\n                    <a href="'
                )
                .concat(n, '" target="_blank">\n                        ')
                .concat(
                  c,
                  "\n                    </a>\n                </p>\n            </li>\n        "
                )
            );
          },
          c = $(".nova-blocks"),
          t = "";
        n.map(function (n) {
          return (t += a(n.url, n.image, n.title));
        }),
          c.append(t);
      })();
    } catch (n) {
      console.log(n);
    }
});
$(function () {
  var a =
      (new Date("Feb 5, 2023 23:59:59").getTime() - Date.now()) / 864e5 >= 0,
    t = [],
    e = new Date().getHours();
  a
    ? ((t = [
        {
          image: "https://bimg.abv.bg/a/i/war1.png?hr=" + e,
          link: "https://a.abv.bg/www/delivery/ck.php?oaparams=2__bannerid=177643__zoneid=63__oadest=https://blog.abv.bg/vremenni-prekasvania/",
        },
        {
          image: "https://bimg.abv.bg/a/i/war2.png?hr=" + e,
          link: "https://a.abv.bg/www/delivery/ck.php?oaparams=2__bannerid=177643__zoneid=63__oadest=https://blog.abv.bg/vremenni-prekasvania/",
        },
      ]),
      (new Image().src =
        "https://a.abv.bg/www/delivery/lg.php?bannerid=177025&campaignid=5122&zoneid=63&time=" +
        Date.now()))
    : (t = [
        {
          image: "https://img.abv.bg/images/abv_305x250_2.png",
          link: "https://mobile.abv.bg/?utm_source=ABV&utm_medium=Banner&utm_content=Easy",
        },
        {
          image: "https://img.abv.bg/images/abv_305x250_1.png",
          link: "https://mobile.abv.bg/?utm_source=ABV&utm_medium=Banner&utm_content=Fast",
        },
        {
          image: "https://img.abv.bg/images/abv_305x250_3.png",
          link: "https://mobile.abv.bg/?utm_source=ABV&utm_medium=Banner&utm_content=Safe",
        },
        {
          image: "https://img.abv.bg/images/305x250-1.png",
          link: "https://blog.abv.bg/abv-syveti-kakvo-e-spam/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=spam",
        },
        {
          image: "https://img.abv.bg/images/305x250-2.png",
          link: "https://blog.abv.bg/abv-syveti-otgoletia-na-vaprosa-kakvo-e-fishing/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=fishing",
        },
        {
          image: "https://img.abv.bg/images/305x250-3.png",
          link: "https://blog.abv.bg/abv-saveti-razberi-vsichko-za-registraciata/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=vsichko-za-registraciata",
        },
        {
          image: "https://img.abv.bg/images/305x250-4.png",
          link: "https://blog.abv.bg/abv-saveti-sigurnostta-v-internet/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=sigurnostta-v-internet",
        },
        {
          image: "https://img.abv.bg/images/305x250-5.png",
          link: "https://blog.abv.bg/parva-poshta-vij-kak-i-zashto/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=parva-poshta",
        },
        {
          image: "https://img.abv.bg/images/305x250-6.png",
          link: "https://blog.abv.bg/abv-saveti-kak-da-badete-navsiakade-s-washata-abvposhta/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=badete-navsiakade",
        },
        {
          image: "https://img.abv.bg/images/305x250-7.png",
          link: "https://blog.abv.bg/abv-saveti-vsichko-za-email-messenger/?utm_source=ABV&utm_medium=Banner&utm_campaign=blog&utm_content=email-messenger",
        },
        {
          image: "https://img.abv.bg/images/305x250-8.png",
          link: "https://blog.abv.bg/gdpr-kakvo-kak-i-zashto",
        },
        {
          image: "https://img.abv.bg/images/305x250-9.png",
          link: "https://blog.abv.bg/gdpr-upravlenie-na-danni",
        },
        {
          image: "https://img.abv.bg/images/305x250_dox.png",
          link: "https://blog.abv.bg/kakvo-novo-v-dox-bg/#utm_source=ABV&utm_medium=Banner&utm_content=Dox",
        },
        {
          image: "https://img.abv.bg/images/vaztanovyavane_na_dostap.png",
          link: "https://blog.abv.bg/kak-mojem-da-vyzstanovim-dostypa-do/",
        },
        {
          image: "https://img.abv.bg/images/zashto_gubim_dostap.png",
          link: "https://blog.abv.bg/zaguba-na-dostap-do-email-v-abv-bg/",
        },
      ]);
  var n = (function (a, t) {
      var e = t || 3;
      if (a.length < e + 1) return g(a);
      switch (
        10 === (n = Math.floor(10 * Math.random()) || 10)
          ? "promo"
          : n < 6
          ? "set"
          : "rest"
      ) {
        case "set":
          return g(i(a).set);
        case "promo":
          return g(i(a).promo);
        case "rest":
          return g(i(a).rest);
      }
      var n;
      function g(a) {
        return a[Math.round(Math.random() * (a.length - 1))];
      }
      function i(a) {
        var t = (function () {
            for (
              var a = new Date().getMonth() + 1, t = 0, n = 0;
              n <= 12;
              n += 12 / e
            )
              a > n && t++;
            return t;
          })(),
          n = a.concat([]),
          g = n.length - 2,
          i = (e - (g % e) + g) / e,
          m = (t - 1) * i;
        return {
          promo: n.splice(n.length - 2, 2),
          set: n.splice(m, i),
          rest: n,
        };
      }
    })(t, 2),
    g = $('<a id="promoZone" target="_blank" />')
      .attr("href", n.link)
      .css("background", "url(" + n.image + ") no-repeat");
  $(".abv-entrance > p:last-child").before(g);
});
$(function () {
  var t = $(".searchForm"),
    n = t.find("button");
  function e() {
    n.attr("disabled", "disabled");
  }
  e(),
    t.on("submit", function (t) {
      $.cancelEvent(t);
      var n,
        e,
        i = $(this);
      (e = (n = i).find("input").val()),
        console.log(e),
        e
          ? (n.attr("target", "_self"), n.get(0).submit())
          : console.log("Error: search entry was not entered!");
    }),
    t.find("input").on("input change", function () {
      $(this).val() ? n.removeAttr("disabled") : e();
    });
});
$(function () {
  var n = [],
    t = [],
    e = $(
      $.minify(
        '\n                <div class="rsHolder">\n                    <span class="restore">Възстанови първоначалната подредба на блоковете</span>\n                    <div class="close">\n                        <span></span>\n                        <span></span>\n                    </div>\n                </div>\n                '
      )
    ),
    o = $(".blocksContainer"),
    r = function () {
      $(".rsHolder").length ||
        (o.prepend(e),
        e.find(".close").on("click", function () {
          $(this).parent().remove();
        }),
        e.find(".restore").on("click", function () {
          (n = []),
            (t = []),
            localStorage.removeItem("columns"),
            localStorage.removeItem("rows"),
            $(this).parent().remove(),
            window.location.reload();
        }));
    };
  function a(n) {
    "array" === $.checkType(n) &&
      n.forEach(function (n) {
        if (n.content && n.wrapper) {
          var t = n.content
              .split(",")
              .map(function (n) {
                return "#" + n;
              })
              .join(", "),
            e = $("#".concat(n.wrapper)),
            o = $(t).detach();
          e.append(o);
        }
      });
  }
  $(".column").sortable({
    connectWith: ".column",
    handle: ".targetholder",
    update: function (t, e) {
      var o = {},
        a = [];
      (n = JSON.parse(localStorage.getItem("columns")) || []).push({
        wrapper: this.id,
        content: $(this).sortable("toArray").join(","),
      }),
        n.map(function (n) {
          return (o[n.wrapper] = n.content);
        }),
        Object.keys(o).map(function (n) {
          return a.push({ wrapper: n, content: o[n] });
        }),
        localStorage.setItem("columns", JSON.stringify(a)),
        r();
    },
  }),
    $(".row").sortable({
      connectWith: ".row",
      handle: ".targetholderRow",
      update: function (n, e) {
        var o = {},
          a = [];
        (t = JSON.parse(localStorage.getItem("rows")) || []).push({
          wrapper: this.id,
          content: $(this).sortable("toArray").join(","),
        }),
          t.map(function (n) {
            return (o[n.wrapper] = n.content);
          }),
          Object.keys(o).map(function (n) {
            o[n] && a.push({ wrapper: n, content: o[n] });
          }),
          localStorage.setItem("rows", JSON.stringify(a)),
          r();
      },
    }),
    (function (n) {
      var t = n.rows,
        e = n.columns;
      if (!t && !e) return;
      a(t), a(e);
    })({
      columns: JSON.parse(localStorage.getItem("columns")),
      rows: JSON.parse(localStorage.getItem("rows")),
    });
});
$.put(function () {
  if (
    !(
      new Date("Jun 10, 2024 00:00:01").getTime() >= new Date().getTime() ||
      new Date("Jul 18, 2024 00:00:01").getTime() <= new Date().getTime()
    )
  ) {
    var n = "article_url",
      t = "image_url_small",
      e = "article_title",
      a = "",
      o = "https://gong.bg/euro",
      r = '<a href="'.concat(o, '" target="_blank" class="fr">Oще новини</a>');
    try {
      $.getJSON("https://bimg.abv.bg/banners/gong/euro2024/abv_feed.json").then(
        function (c) {
          return (function (c) {
            $.log("json: ", c);
            var i = function () {
                var n =
                    null === localStorage.getItem("rows")
                      ? []
                      : JSON.parse(localStorage.getItem("rows")),
                  t = n.length
                    ? n.filter(function (n) {
                        return n.content.indexOf("specialBlock") > -1;
                      })
                    : [];
                return n.length ? t[t.length - 1].wrapper : "";
              },
              l = c,
              g = i(),
              s = $(g ? "#" + g : "#r-1");
            if (!$.jsonCheck(l)) return;
            var u = function (n) {
                return (
                  "https://a.abv.bg/www/delivery/ck.php?oaparams=2__bannerid=" +
                  n +
                  "__zoneid=63__oadest="
                );
              },
              b = function (n, t, e, a) {
                return $.minify(
                  '\n                <li>\n                    <figure>\n                        <a href="'
                    .concat(
                      u(a) + n,
                      '" target="_blank">\n                            <img src="'
                    )
                    .concat($.empty, '" data-src="')
                    .concat(t, '" alt="')
                    .concat(
                      e,
                      '" />\n                        </a>\n                    </figure>\n                    <p>\n                        <a href="'
                    )
                    .concat(
                      u(a) + n,
                      '" target="_blank">\n                            '
                    )
                    .concat(
                      e,
                      "\n                        </a>\n                    </p>\n                </li>\n            "
                    )
                );
              },
              h = "",
              p = 178199;
            l.map(function (o) {
              return (h += b(o[n], o[t], o[e], a ? o[a] : p++));
            }),
              s.append(
                (function (n) {
                  return $.minify(
                    '\n            <div id="specialBlock">\n                <header class="targetholderRow title x">\n                    <h2 class="fl">\n                        <a href="'
                      .concat(
                        o,
                        '" target="_blank">\n                            '
                      )
                      .concat(
                        '<img src="https://bimg.abv.bg/banners/gong/euro2024/i/gong_euro2024_logo.svg" width="29" height="31" alt="Gong Euro 2024" \n                            style="width: 29px;\n                            height: 31px;\n                            vertical-align: middle;\n                            margin: -3px 0 0;" />',
                        ' <span style="position: relative; top: 1px; left: 6px;">'
                      )
                      .concat(
                        "ЕВРО 2024",
                        "</span>\n                        </a>\n                    </h2>\n                    "
                      )
                      .concat(
                        r,
                        '\n                </header>\n                <ul class="nova-blocks x">\n                    '
                      )
                      .concat(
                        n,
                        "\n                </ul>\n            </div>\n        "
                      )
                  );
                })(h)
              );
            var f = "https://bimg.abv.bg/banners/gong/euro2024/lscore.json";
            try {
              $.getJSON(f)
                .then(function (n) {
                  var t;
                  $.log(n, $.isPlainObject(n)),
                    $.isPlainObject(n) &&
                      ((t = window),
                      $.log("Banner abv fasha v.Euro2024.1.0"),
                      t.postMessage(
                        {
                          abv_code: "abvRibbon",
                          bannerURL:
                            "https://bimg.abv.bg/banners/gong/euro2024/index.html",
                          clickTag: "",
                          height: { min: 210, max: 466 },
                          bannerCOUNT: "",
                        },
                        "*"
                      ));
                })
                .catch(function (n) {
                  return console.log(n);
                });
            } catch (n) {
              console.log(n);
            }
          })(c);
        }
      );
    } catch (n) {
      console.log(n);
    }
  }
});
$.put(function () {
  var n = Data.blocks.sinoptik;
  if ($.jsonCheck(n)) {
    var t = "https://bimg.abv.bg/a/location_cc.php?id=",
      a = "Некоректно име",
      c = $("#sinoptikContent"),
      e = $("#sinoptik"),
      i = e.find("ol li"),
      o = $(".citySearch input"),
      s = $("#sinoptik h3 .fl"),
      r = localStorage.getItem("city"),
      l = localStorage.getItem("city_id");
    try {
      l
        ? $.get(t + l).then(function (n) {
            return p(n);
          })
        : r
        ? g(n, r)
        : g(n);
    } catch (n) {
      console.log(n);
    }
    i.on("click", function (t) {
      $.cancelEvent(t);
      var a = $(this);
      a.hasClass("citySearch") ||
        (g(n, a.text(), t),
        $.imageLazyLoader(),
        l && localStorage.removeItem("city_id"));
    });
    var d = function (n) {
      if (n.length < 3 || n === a)
        return (
          o.addClass("abv-red").val(a).on("focus", u), void s.on("click", u)
        );
      $.getJSON("https://sinoptik.bg/api/app_search?q=" + n)
        .always(function () {
          return o.addClass("searching");
        })
        .then(function (n) {
          return (function (n) {
            var a = "",
              c = "locations" in n;
            $(".results").remove(),
              o.removeClass("searching"),
              c
                ? (n.locations.map(function (n) {
                    return (a += '<li data-id="'
                      .concat(n.id, '">')
                      .concat(n.name, " - ")
                      .concat(n.country, "</li>"));
                  }),
                  (a =
                    " \n                    <h4>Резултати от търсене:</h4>\n                    <ol>".concat(
                      a,
                      "</ol>\n                "
                    )))
                : (a = "<span>Няма намерени резултати</span>");
            var e = $(
              $.minify(
                '\n                        <li class="results">\n                            <div class="close">\n                                <span></span>\n                                <span></span>\n                            </div>\n                            '.concat(
                  a,
                  "\n                        </li>\n                    "
                )
              )
            );
            i.parent().append(e);
            var r = $(".results .close"),
              l = $("body"),
              d = function n(t) {
                $.cancelEvent(t),
                  r.parent().remove(),
                  l.off("click"),
                  s.off("click", n),
                  u();
              };
            s.add(r).add(l).on("click", d),
              c &&
                $(".results")
                  .find("li")
                  .on("click", function (n) {
                    $.cancelEvent(n);
                    var a = $(this).data("id");
                    $.get(t + a).then(function (t) {
                      return p(t, a, n);
                    });
                  });
          })(n);
        });
    };
    $(".searchButton").on("click", function () {
      return d(o.val());
    }),
      o.on("keyup", function (n) {
        "Enter" === n.key && d(o.val());
      });
  }
  function p(n, t, a) {
    var c = (function (n) {
      var t = '[\n            {\n                "city": "'
        .concat(n.find("lname").text(), ", ")
        .concat(n.find("cname").text(), '",\n                "link": "')
        .concat(
          n.find("link").text(),
          '",\n                "local": 0,\n                "now": {\n                    "image": "https://img.abv.bg/n/i/wh/sinoptikpng/'
        )
        .concat(
          n.find("pic:eq(0)").text(),
          '",\n                    "forecast": "'
        )
        .concat(
          n.find("desc:eq(0)").text(),
          '",\n                    "temperature": "'
        )
        .concat(
          n.find("temp").text(),
          '°",\n                    "feelslike": "'
        )
        .concat(
          n.find("like").text(),
          '°"\n                },\n                "today": {\n                    "image": "https://m.netinfo.bg/sinoptik/icons/small/'
        )
        .concat(
          n.find("day0 pic").text(),
          '",\n                    "forecast": "'
        )
        .concat(n.find("day0 desc").text(), '",\n                    "min": "')
        .concat(n.find("day0 min").text(), '°",\n                    "max": "')
        .concat(
          n.find("day0 max").text(),
          '°"\n                },\n                "tomorrow": {\n                    "image": "https://m.netinfo.bg/sinoptik/icons/small/'
        )
        .concat(
          n.find("day1 pic").text(),
          '",\n                    "forecast": "'
        )
        .concat(n.find("day1 desc").text(), '",\n                    "min": "')
        .concat(n.find("day1 min").text(), '°",\n                    "max": "')
        .concat(
          n.find("day1 max").text(),
          '°"\n    \n                }\n            }\n        ]'
        );
      return JSON.parse(t);
    })($($.parseXML(n)));
    g(c, c[0].city),
      t &&
        void 0 !== a &&
        "click" === a.type &&
        ($.log("sity event: ", a),
        localStorage.setItem("city_id", t),
        localStorage.removeItem("city"),
        f()),
      $.imageLazyLoader();
  }
  function f() {
    if (!$(".weaderAuto").length) {
      $("#block-Sinoptik header").append(
        '<a href="javascript://" class="fr weaderAuto">автоматично</a>'
      ),
        $(".weaderAuto").on("click", m);
    }
  }
  function m() {
    $(".weaderAuto").remove(),
      "city_id" in localStorage && localStorage.removeItem("city_id"),
      "city" in localStorage && localStorage.removeItem("city"),
      g(n),
      $.imageLazyLoader();
  }
  function g(n, t, a) {
    var o = $("#sinoptik a.fr"),
      s = t
        ? n.filter(function (n) {
            return n.city === t;
          })
        : [],
      r = (s =
        (s =
          s[0] ||
          n.filter(function (n) {
            return n.local;
          })[0]) || n[0]),
      l = r.now,
      d = r.today,
      p = r.tomorrow,
      m = r.city,
      g = r.link;
    void 0 !== a &&
      "click" === a.type &&
      ($.log("sity event: ", a),
      localStorage.setItem("city", m),
      localStorage.removeItem("city_id"),
      f());
    var u = $.minify(
      '\n            <div class="cell">\n                <a href="https://www.sinoptik.bg/'
        .concat(
          g,
          '" target="_blank">\n                    <time>В момента</time>\n                    <figure>\n                        <img src="'
        )
        .concat($.empty, '" data-src="')
        .concat(l.image, '" alt="')
        .concat(
          l.forecast,
          '" />\n                    </figure>\n                    <div class="gradus">\n                        <span>'
        )
        .concat(
          l.temperature,
          'C</span>\n                    </div>\n                    <p class="smallgradus"><span class="grey">Усеща се: </span><span>'
        )
        .concat(
          l.feelslike,
          '</span></p>\n                    <p class="forecast">'
        )
        .concat(
          l.forecast,
          '</p>\n                </a>\n            </div>\n            <div class="cell">\n                <a href="https://www.sinoptik.bg/'
        )
        .concat(
          g,
          '/hourly" target="_blank">\n                    <time>Днес</time>\n                    <figure>\n                        <img src="'
        )
        .concat($.empty, '" data-src="')
        .concat(d.image, '" alt="')
        .concat(
          d.forecast,
          '" /> \n                    </figure>\n                    <p class="smallgradus">\n                        <span class="grey">'
        )
        .concat(d.min, "</span><b>|</b><span>")
        .concat(
          d.max,
          '</span>\n                    </p>\n                    <p class="forecast">'
        )
        .concat(
          d.forecast,
          '</p>\n                </a>\n            </div>\n            <div class="cell">\n                <a href="https://www.sinoptik.bg/'
        )
        .concat(
          g,
          '/5-days/2" target="_blank">\n                    <time>Утре</time>\n                    <figure>\n                        <img src="'
        )
        .concat($.empty, '" data-src="')
        .concat(p.image, '" alt="')
        .concat(
          p.forecast,
          '" /> \n                        </figure>\n                    <div class="digits">\n                        <p class="smallgradus">\n                            <span class="grey">'
        )
        .concat(p.min, "</span><b>|</b><span>")
        .concat(
          p.max,
          '</span>\n                        </p>\n                        <p class="forecast">'
        )
        .concat(
          p.forecast,
          "</p>\n                    </div>\n                </a>\n            </div>\n        "
        )
    );
    c.find(".cell").remove(),
      c.append(u),
      o.prop("href", "https://www.sinoptik.bg/".concat(g, "/10-days")),
      e.find(".place").text(m),
      i.removeClass("selected"),
      i.each(function () {
        var n = $(this);
        n.text() === m && n.addClass("selected");
      });
  }
  function u() {
    o.removeClass("searching").val("").removeClass("abv-red").off("focus"),
      s.off("click", u);
  }
});
